<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>🚀 HexMind Voltron MechaZord - OPUS Edition 🚀</title>
    <meta name="theme-color" content="#0f0f23">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: linear-gradient(135deg, #0f0f23, #1a1a2e, #16213e);
            color: #ffffff;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            min-height: 100vh;
            overflow-y: auto;
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at 20% 50%, rgba(255, 107, 53, 0.1) 0%, transparent 50%),
                        radial-gradient(circle at 80% 20%, rgba(74, 144, 226, 0.1) 0%, transparent 50%),
                        radial-gradient(circle at 40% 80%, rgba(0, 255, 136, 0.1) 0%, transparent 50%);
            animation: voltronPulse 4s ease-in-out infinite alternate;
            pointer-events: none;
            z-index: -1;
        }

        @keyframes voltronPulse {
            0% { opacity: 0.3; transform: scale(1); }
            100% { opacity: 0.6; transform: scale(1.05); }
        }

        #app {
            min-height: 100vh;
            padding: 20px;
            position: relative;
            z-index: 1;
        }

        header {
            text-align: center;
            padding: 20px 0;
            border-bottom: 2px solid #ff6b35;
            margin-bottom: 30px;
            position: relative;
        }

        h1 {
            font-size: 2.8em;
            background: linear-gradient(45deg, #ff6b35, #f7931e, #4a90e2, #00ff88);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: voltronGlow 2s ease-in-out infinite alternate;
        }

        @keyframes voltronGlow {
            0% { filter: brightness(1); }
            100% { filter: brightness(1.2); }
        }

        .subtitle {
            color: #ff6b35;
            margin-top: 10px;
            font-weight: bold;
            font-size: 1.1em;
        }

        .opus-badge {
            position: absolute;
            top: 10px;
            right: 10px;
            background: linear-gradient(45deg, #ff6b35, #f7931e);
            color: white;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: bold;
            animation: opusPulse 1.5s ease-in-out infinite;
        }

        @keyframes opusPulse {
            0%, 100% { transform: scale(1); box-shadow: 0 0 10px rgba(255, 107, 53, 0.5); }
            50% { transform: scale(1.05); box-shadow: 0 0 20px rgba(255, 107, 53, 0.8); }
        }

        #command-center {
            max-width: 1200px;
            margin: 0 auto;
        }

        section {
            background: rgba(74, 144, 226, 0.05);
            border: 2px solid #4a90e2;
            border-radius: 12px;
            padding: 25px;
            margin: 20px 0;
            transition: all 0.3s ease;
        }

        section:hover {
            border-color: #ff6b35;
            box-shadow: 0 0 20px rgba(255, 107, 53, 0.3);
        }

        h2 {
            color: #ff6b35;
            margin-bottom: 20px;
            font-size: 1.5em;
        }

        #mission-form {
            background: linear-gradient(135deg, rgba(255, 107, 53, 0.1), rgba(74, 144, 226, 0.1));
            border: 3px solid #ff6b35;
            padding: 25px;
            border-radius: 12px;
            margin: 20px 0;
            position: relative;
        }

        #mission-form::before {
            content: '🤖';
            position: absolute;
            top: 10px;
            right: 10px;
            font-size: 24px;
            color: #4a90e2;
            animation: opusSpark 2s linear infinite;
        }

        @keyframes opusSpark {
            0%, 100% { opacity: 1; transform: rotate(0deg); }
            50% { opacity: 0.7; transform: rotate(180deg); }
        }

        #challenge-input {
            width: 100%;
            min-height: 120px;
            background: rgba(0, 0, 0, 0.4);
            border: 2px solid #ff6b35;
            color: #ffffff;
            padding: 15px;
            border-radius: 8px;
            font-size: 16px;
            resize: vertical;
            font-family: inherit;
            transition: all 0.3s ease;
        }

        #challenge-input:focus {
            outline: none;
            border-color: #4a90e2;
            box-shadow: 0 0 15px rgba(74, 144, 226, 0.4);
        }

        #mission-form button {
            background: linear-gradient(45deg, #4a90e2, #00ff88);
            border: none;
            color: white;
            padding: 15px 30px;
            border-radius: 8px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            margin-top: 15px;
            transition: all 0.3s ease;
            text-transform: uppercase;
        }

        #mission-form button:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(74, 144, 226, 0.5);
        }

        #mission-form button:disabled {
            background: #666;
            cursor: not-allowed;
            transform: none;
        }

        #learning-seed-display {
            background: linear-gradient(135deg, #1a1a2e, #16213e, #0f0f23);
            border: 3px solid #4a90e2;
            border-radius: 12px;
            padding: 25px;
            margin: 20px 0;
            min-height: 200px;
        }

        .learning-seed-header {
            border-bottom: 2px solid #ff6b35;
            padding-bottom: 15px;
            margin-bottom: 20px;
        }

        .seed-meta {
            display: flex;
            gap: 15px;
            margin-top: 10px;
            flex-wrap: wrap;
        }

        .difficulty {
            background: #ff6b35;
            color: white;
            padding: 5px 12px;
            border-radius: 15px;
            font-size: 0.9em;
        }

        .xp-potential {
            background: #00ff88;
            color: #000;
            padding: 5px 12px;
            border-radius: 15px;
            font-size: 0.9em;
            font-weight: bold;
        }

        .opus-powered {
            background: linear-gradient(45deg, #ff6b35, #f7931e);
            color: white;
            padding: 5px 12px;
            border-radius: 15px;
            font-size: 0.9em;
            font-weight: bold;
            animation: opusPower 2s ease-in-out infinite alternate;
        }

        @keyframes opusPower {
            0% { box-shadow: 0 0 5px rgba(255, 107, 53, 0.5); }
            100% { box-shadow: 0 0 15px rgba(255, 107, 53, 0.8); }
        }

        .seed-module {
            background: linear-gradient(135deg, rgba(74, 144, 226, 0.1), rgba(255, 107, 53, 0.05));
            border-left: 4px solid #4a90e2;
            padding: 20px;
            margin: 15px 0;
            border-radius: 0 8px 8px 0;
            transition: all 0.3s ease;
        }

        .seed-module:hover {
            background: linear-gradient(135deg, rgba(74, 144, 226, 0.2), rgba(255, 107, 53, 0.1));
            transform: translateX(10px);
            box-shadow: 0 5px 15px rgba(74, 144, 226, 0.3);
        }

        .seed-module h5 {
            color: #00ff88;
            margin-bottom: 10px;
            text-transform: uppercase;
        }

        .understanding-check {
            background: rgba(0, 255, 136, 0.1);
            border-left: 3px solid #00ff88;
            padding: 12px;
            margin-top: 15px;
            border-radius: 0 5px 5px 0;
            font-style: italic;
        }

        .next-steps {
            background: linear-gradient(135deg, rgba(74, 144, 226, 0.1), rgba(0, 255, 136, 0.1));
            border: 2px solid #4a90e2;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }

        .next-steps h5 {
            color: #4a90e2;
            margin-bottom: 15px;
        }

        .next-steps ul {
            list-style: none;
        }

        .next-steps li {
            padding: 8px 0;
            border-bottom: 1px solid rgba(74, 144, 226, 0.2);
        }

        .next-steps li:before {
            content: "🚀 ";
            margin-right: 8px;
        }

        .complete-btn {
            background: linear-gradient(45deg, #00ff88, #00cc70);
            color: #000;
            padding: 15px 30px;
            border: none;
            border-radius: 8px;
            font-weight: bold;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
        }

        .complete-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 8px 20px rgba(0, 255, 136, 0.5);
        }

        .processing {
            text-align: center;
            padding: 40px;
        }

        .opus-spinner {
            width: 60px;
            height: 60px;
            border: 5px solid rgba(255, 107, 53, 0.3);
            border-top: 5px solid #ff6b35;
            border-radius: 50%;
            animation: opusSpin 1.5s linear infinite;
            margin: 20px auto;
        }

        @keyframes opusSpin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
    </style>
</head>
<body>
    <div id="app">
        <header>
            <div class="opus-badge">🤖 OPUS EDITION 🤖</div>
            <h1>🚀 HexMind Voltron MechaZord 🚀</h1>
            <div class="subtitle">Opus-Grade AI Learning System</div>
        </header>

        <main id="command-center">
            <section id="mission-planner">
                <h2>🤖 Opus-Powered Mission Command Center 🤖</h2>
                <form id="mission-form">
                    <label for="challenge-input">Enter Your STEM Learning Challenge:</label>
                    <textarea 
                        id="challenge-input" 
                        placeholder="Example: I want to understand quantum entanglement and its applications in quantum computing..."
                        required
                    ></textarea>
                    <button type="submit" id="mission-btn">🤖 Activate Opus Intelligence 🤖</button>
                </form>
            </section>

            <section id="learning-seed-display">
                <h2>🧠 Opus-Generated Learning Seeds 🧠</h2>
                <div id="seed-content">
                    <p style="text-align: center; color: #ff6b35; padding: 40px; font-size: 18px;">
                        🤖 Submit a learning challenge above to unleash Opus-grade neural learning seeds! 🤖
                    </p>
                </div>
            </section>

            <section id="progress-display">
                <h2>🏆 Opus Progress Tracking 🏆</h2>
                <div id="progress-content">
                    <div style="display: flex; gap: 30px; justify-content: center; flex-wrap: wrap;">
                        <div style="text-align: center; padding: 15px; background: rgba(74, 144, 226, 0.1); border-radius: 8px;">
                            <div style="font-size: 2em; color: #00ff88;">Cadet</div>
                            <div style="color: #888;">Current Rank</div>
                        </div>
                        <div style="text-align: center; padding: 15px; background: rgba(74, 144, 226, 0.1); border-radius: 8px;">
                            <div style="font-size: 2em; color: #4a90e2;">0 XP</div>
                            <div style="color: #888;">Total Experience</div>
                        </div>
                        <div style="text-align: center; padding: 15px; background: rgba(74, 144, 226, 0.1); border-radius: 8px;">
                            <div style="font-size: 2em; color: #ff6b35;">0</div>
                            <div style="color: #888;">Opus Sessions</div>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <script>
        // 🤖 OPUS VOLTRON MECHAZORD - CLEAN PROFESSIONAL BUILD
        class OpusVoltronMechaZord {
            constructor() {
                this.currentMission = null;
                this.learningSeeds = [];
                this.userProgress = {
                    rank: 'Cadet',
                    totalXP: 0,
                    missionsComplete: 0,
                    opusSessions: 0,
                    sectorsExplored: [],
                    conceptsMastered: []
                };
                this.requestCount = 0;
                this.init();
            }

            init() {
                console.log('🤖 OPUS VOLTRON: Initializing advanced AI system...');
                this.bindMissionForm();
                this.loadUserProgress();
                this.updateProgressDisplay();
                console.log('🤖 Opus Intelligence: FULLY OPERATIONAL!');
            }

            bindMissionForm() {
                const form = document.getElementById('mission-form');
                if (form) {
                    form.addEventListener('submit', (e) => {
                        e.preventDefault();
                        this.handleOpusMission();
                    });
                    console.log('✅ Mission form bound to Opus system');
                } else {
                    console.error('❌ Mission form not found');
                }
            }

            async handleOpusMission() {
                const challengeInput = document.getElementById('challenge-input');
                const missionBtn = document.getElementById('mission-btn');
                const challenge = challengeInput.value.trim();
                
                if (!challenge) {
                    this.showToast('Enter a challenge for Opus to analyze!', 'warning');
                    return;
                }

                missionBtn.disabled = true;
                missionBtn.textContent = '🤖 Opus Thinking...';

                try {
                    const mission = this.createMission(challenge);
                    this.currentMission = mission;
                    
                    console.log('🤖 OPUS MISSION LAUNCHED:', mission);
                    
                    this.showProcessingState(mission);
                    const learningSeed = await this.generateOpusLearningSeed(mission);
                    this.displayLearningSeed(learningSeed);
                    
                    this.userProgress.opusSessions++;
                    this.updateProgressDisplay();
                    challengeInput.value = '';
                    
                } catch (error) {
                    console.error('❌ Opus mission failed:', error);
                    this.showToast('Opus encountered an error', 'error');
                    
                } finally {
                    missionBtn.disabled = false;
                    missionBtn.textContent = '🤖 Activate Opus Intelligence 🤖';
                }
            }

            async generateOpusLearningSeed(mission) {
                console.log('🤖 Generating Opus-grade learning seed...');
                
                return new Promise((resolve) => {
                    setTimeout(() => {
                        const seed = this.createOpusResponse(mission);
                        resolve(seed);
                    }, 2500);
                });
            }

            createOpusResponse(mission) {
                const topic = this.extractTopicFromChallenge(mission.challenge);
                
                const opusResponses = {
                    'ohms law': {
                        title: 'Ohms Law: Electrical Engineering Fundamentals',
                        intro: "Ohm's Law represents one of the most elegant and fundamental relationships in electrical engineering. Discovered by Georg Ohm in 1827, this principle (V = I × R) describes the linear relationship between voltage, current, and resistance in electrical circuits. Understanding this law provides the foundation for analyzing everything from simple LED circuits to complex power distribution systems.",
                        core: "Ohm's Law states that the voltage across a conductor is directly proportional to the current flowing through it, with resistance as the proportionality constant. Mathematically: V = I × R, where V is voltage (measured in volts), I is current (measured in amperes), and R is resistance (measured in ohms). This relationship holds true for ohmic materials under constant temperature conditions. The law can be rearranged to solve for any variable: I = V/R or R = V/I.",
                        practical: "Start with hands-on circuit building using a breadboard, various resistors (220Ω, 470Ω, 1kΩ), LEDs, and a 9V battery. Use a digital multimeter to measure voltage across components and current through the circuit. Build a simple LED circuit and calculate the required current-limiting resistor. Create voltage divider circuits and verify your calculations. Progress to analyzing more complex circuits with series and parallel configurations.",
                        check: "Given a 12V power supply and an LED that requires 20mA of current with a 2V forward voltage drop, calculate the required current-limiting resistor value. Then explain how the power dissipated in the resistor relates to the overall circuit efficiency."
                    },
                    'quantum': {
                        title: 'Quantum Mechanics: The Physics of the Very Small',
                        intro: "Quantum mechanics reveals the counterintuitive behavior of matter and energy at atomic and subatomic scales. Unlike classical physics, quantum systems exhibit superposition, entanglement, and uncertainty as fundamental properties rather than limitations of measurement. These phenomena form the basis for emerging technologies including quantum computers, cryptography systems, and precision sensors that will revolutionize computing, communications, and scientific measurement.",
                        core: "Key quantum principles include: (1) Wave-particle duality - particles exhibit both wave and particle characteristics depending on measurement, (2) Superposition - quantum systems exist in multiple states simultaneously until measured, (3) Uncertainty principle - certain pairs of properties cannot be precisely known simultaneously, (4) Entanglement - particles become correlated in ways that seem to transcend spatial separation. These aren't just theoretical curiosities but the foundation for quantum technologies being developed today.",
                        practical: "Explore quantum concepts through computational simulations using IBM Qiskit or Google Cirq. Study the double-slit experiment through online interactive demonstrations. Follow quantum computing developments from companies like IBM, Google, IonQ, and Rigetti. Build simple probability models to understand quantum measurement outcomes. Engage with quantum physics through educational games like 'Quantum Moves' that gamify quantum problem-solving.",
                        check: "Design a thought experiment that demonstrates quantum entanglement. Explain how measuring one entangled particle instantly affects its partner, regardless of distance. What are the implications for information processing, and why can't this be used for faster-than-light communication?"
                    },
                    'photosynthesis': {
                        title: 'Photosynthesis: Solar Energy Conversion in Living Systems',
                        intro: "Photosynthesis is arguably the most important biological process on Earth, converting approximately 130 terawatts of solar energy into chemical energy annually - six times humanity's total energy consumption. This process involves sophisticated molecular machinery that captures light photons and uses their energy to split water molecules and reduce carbon dioxide, producing glucose and oxygen. Understanding photosynthesis provides insights into renewable energy, biochemistry, and the global carbon cycle.",
                        core: "Photosynthesis occurs in two interconnected phases: the light-dependent reactions (photosystems I and II) and the light-independent Calvin cycle. In the thylakoid membranes, chlorophyll molecules absorb photons and transfer energy through electron transport chains, generating ATP and NADPH while splitting water to release oxygen. The Calvin cycle uses this chemical energy to fix atmospheric CO₂ into organic molecules through a series of enzyme-catalyzed reactions, ultimately producing glucose.",
                        practical: "Design controlled experiments measuring photosynthesis rates using aquatic plants like Elodea canadensis. Count oxygen bubbles produced under different light intensities, wavelengths, and CO₂ concentrations. Extract and analyze chlorophyll using paper chromatography to separate different pigments. Use microscopy to observe chloroplasts and their internal structure. Build mathematical models relating environmental factors to photosynthetic efficiency.",
                        check: "Climate change is increasing atmospheric CO₂ levels while also raising temperatures. Explain how these changes might affect global photosynthesis rates, considering both the CO₂ fertilization effect and temperature-dependent enzyme kinetics. What are the implications for food security and carbon sequestration?"
                    },
                    'machine learning': {
                        title: 'Machine Learning: Algorithms That Learn from Data',
                        intro: "Machine learning represents a paradigm shift in computing, enabling systems to improve performance through experience rather than explicit programming. By identifying patterns in data, ML algorithms can make predictions, recognize images, understand language, and solve complex optimization problems. This field combines computer science, statistics, and domain expertise to create systems that can adapt and generalize to new situations.",
                        core: "Machine learning encompasses three main approaches: supervised learning (learning from labeled examples), unsupervised learning (finding hidden patterns in data), and reinforcement learning (learning through interaction and feedback). Key algorithms include neural networks (inspired by brain function), decision trees (hierarchical rule-based models), and support vector machines (finding optimal decision boundaries). The process involves data preprocessing, model selection, training, validation, and deployment.",
                        practical: "Start with Python libraries like scikit-learn, TensorFlow, or PyTorch. Begin with classic datasets like iris classification or house price prediction. Implement basic algorithms from scratch to understand their mechanics, then use library implementations for real projects. Participate in Kaggle competitions to practice on real-world problems. Build end-to-end projects including data collection, cleaning, model training, and deployment.",
                        check: "Design a machine learning system to predict student academic performance. What features would you include? How would you handle missing data? What ethical considerations must you address regarding bias, fairness, and privacy? How would you evaluate whether your model is ready for real-world deployment?"
                    }
                };

                const specificResponse = opusResponses[topic.toLowerCase()] || this.generateGeneralOpusResponse(topic, mission);
                
                const seed = {
                    mission_id: mission.id,
                    title: '🤖 ' + (specificResponse.title || 'Opus Analysis: ' + topic) + ' 🤖',
                    difficulty: mission.difficulty,
                    xp_value: mission.xpPotential + 15,
                    opusPowered: true,
                    modules: [
                        {
                            type: "concept_introduction",
                            content: specificResponse.intro,
                            understanding_check: "What real-world applications of this concept excite you most?"
                        },
                        {
                            type: "core_knowledge",
                            content: specificResponse.core,
                            understanding_check: "How do these principles connect to other scientific concepts you know?"
                        },
                        {
                            type: "practical_application",
                            content: specificResponse.practical,
                            understanding_check: specificResponse.check
                        }
                    ],
                    next_steps: [
                        'Research cutting-edge developments in this field',
                        'Connect with professionals and researchers',
                        'Design and execute original projects',
                        'Join relevant academic or professional communities',
                        'Consider advanced coursework or research opportunities'
                    ],
                    neural_pattern: {
                        retention_hooks: ['visual', 'mathematical', 'practical', 'conceptual'],
                        integration_points: [mission.sector.toLowerCase(), 'opus_enhanced'],
                        difficulty_progression: mission.difficulty,
                        brain_ready: true,
                        opus_optimized: true
                    }
                };

                this.learningSeeds.push(seed);
                return seed;
            }

            generateGeneralOpusResponse(topic, mission) {
                return {
                    title: 'Advanced Analysis: ' + topic,
                    intro: 'This ' + mission.difficulty.toLowerCase() + '-level exploration of ' + topic + ' represents cutting-edge knowledge in ' + mission.sector.toLowerCase() + '. Understanding these concepts provides powerful tools for innovation, research, and problem-solving in rapidly advancing fields.',
                    core: 'The fundamental principles underlying ' + topic + ' involve complex interactions between multiple variables, mathematical relationships that describe system behavior, and emergent properties that arise from component interactions. These concepts connect to broader scientific principles and have applications across multiple disciplines.',
                    practical: 'Begin your investigation by researching current applications through peer-reviewed literature. Design controlled experiments or computational models to test key principles. Build mathematical or simulation models to predict system behavior. Connect with research communities and contribute to collaborative projects.',
                    check: 'How would you design an experiment to test the most fundamental aspect of ' + topic + '? What variables would you measure, what controls would you implement, and how would you interpret the results?'
                };
            }

            createMission(challenge) {
                const missionId = 'OPUS_' + Date.now();
                const sector = this.detectSector(challenge);
                const difficulty = this.assessDifficulty(challenge);
                
                return {
                    id: missionId,
                    challenge: challenge,
                    sector: sector,
                    difficulty: difficulty,
                    timestamp: new Date().toISOString(),
                    status: 'active',
                    xpPotential: this.calculateXP(difficulty),
                    opusPowered: true
                };
            }

            detectSector(challenge) {
                const keywords = {
                    'Science': ['biology', 'chemistry', 'physics', 'quantum', 'photosynthesis', 'evolution', 'ecology', 'neuroscience', 'astronomy', 'ohms', 'law'],
                    'Technology': ['AI', 'machine learning', 'programming', 'computer', 'software', 'algorithm', 'data', 'neural network', 'blockchain'],
                    'Engineering': ['design', 'build', 'mechanical', 'electrical', 'aerospace', 'civil', 'chemical', 'systems', 'optimization'],
                    'Mathematics': ['calculus', 'algebra', 'statistics', 'geometry', 'probability', 'differential', 'linear', 'topology']
                };
                
                const lowerChallenge = challenge.toLowerCase();
                for (const [sector, words] of Object.entries(keywords)) {
                    if (words.some(word => lowerChallenge.includes(word))) {
                        return sector;
                    }
                }
                return 'Science';
            }

            assessDifficulty(challenge) {
                const length = challenge.length;
                const advancedWords = ['quantum', 'molecular', 'differential', 'optimization', 'algorithm', 'neural', 'advanced', 'complex'];
                const hasAdvancedWords = advancedWords.some(word => challenge.toLowerCase().includes(word));
                
                if (length > 250 || hasAdvancedWords) return 'Admiral';
                if (length > 150) return 'Commander';
                if (length > 75) return 'Officer';
                return 'Cadet';
            }

            calculateXP(difficulty) {
                const xpMap = {
                    'Cadet': 30,
                    'Officer': 50,
                    'Commander': 80,
                    'Admiral': 120
                };
                return xpMap[difficulty] || 30;
            }

            extractTopicFromChallenge(challenge) {
                const words = challenge.toLowerCase().split(' ');
                const stopWords = ['i', 'want', 'to', 'understand', 'how', 'what', 'why', 'explain', 'teach', 'learn', 'about'];
                const meaningfulWords = words.filter(word => !stopWords.includes(word) && word.length > 3);
                return meaningfulWords.slice(0, 3).join(' ') || 'advanced concept';
            }

            displayLearningSeed(seed) {
                const display = document.getElementById('seed-content');
                if (!display) return;

                display.innerHTML = 
                    '<div class="learning-seed-header">' +
                        '<h4>' + seed.title + '</h4>' +
                        '<div class="seed-meta">' +
                            '<span class="difficulty">Difficulty: ' + seed.difficulty + '</span>' +
                            '<span class="xp-potential">XP: +' + seed.xp_value + '</span>' +
                            '<span class="opus-powered">🤖 OPUS POWERED 🤖</span>' +
                        '</div>' +
                    '</div>' +
                    
                    seed.modules.map((module, index) => 
                        '<div class="seed-module" data-module="' + index + '">' +
                            '<h5>' + module.type.replace('_', ' ') + '</h5>' +
                            '<p>' + module.content + '</p>' +
                            '<div class="understanding-check">' +
                                '<strong>🤖 Opus Check:</strong> ' + module.understanding_check +
                            '</div>' +
                        '</div>'
                    ).join('') +
                    
                    '<div class="next-steps">' +
                        '<h5>🚀 Opus-Recommended Next Steps</h5>' +
                        '<ul>' +
                            seed.next_steps.map(step => '<li>' + step + '</li>').join('') +
                        '</ul>' +
                    '</div>' +
                    
                    '<div style="text-align: center; margin: 30px 0;">' +
                        '<button class="complete-btn" onclick="window.opusVoltron.completeMission(\'' + seed.mission_id + '\')">' +
                            '🤖 Complete Opus Mission (+' + seed.xp_value + ' XP)' +
                        '</button>' +
                    '</div>';
            }

            showProcessingState(mission) {
                const display = document.getElementById('seed-content');
                if (!display) return;

                display.innerHTML = 
                    '<div class="processing">' +
                        '<div style="font-size: 28px; margin-bottom: 20px;">🤖 Opus Processing... 🤖</div>' +
                        '<div class="opus-spinner"></div>' +
                        '<div style="color: #ff6b35; margin-bottom: 10px; font-size: 18px;">Mission: ' + mission.sector + ' Challenge</div>' +
                        '<div style="color: #888;">Difficulty: ' + mission.difficulty + ' | XP Potential: +' + mission.xpPotential + '</div>' +
                        '<div style="margin-top: 20px; color: #00ff88; font-size: 16px;">🤖 Opus analyzing: "' + mission.challenge + '"</div>' +
                        '<div style="margin-top: 10px; color: #4a90e2;">⚡ Advanced AI processing...</div>' +
                    '</div>';
            }

            completeMission(missionId) {
                const seed = this.learningSeeds.find(s => s.mission_id === missionId);
                if (!seed) return;

                this.userProgress.totalXP += seed.xp_value;
                this.userProgress.missionsComplete += 1;
                this.userProgress.conceptsMastered.push(seed.title);
                
                this.checkRankProgression();
                this.showToast('🤖 OPUS MISSION COMPLETE! +' + seed.xp_value + ' XP earned! 🤖', 'success');
                this.updateProgressDisplay();
                this.saveUserProgress();
                
                console.log('🤖 Opus Mission ' + missionId + ' completed! Total XP: ' + this.userProgress.totalXP);
            }

            checkRankProgression() {
                const ranks = ['Cadet', 'Ensign', 'Lieutenant', 'Commander', 'Captain', 'Fleet Admiral'];
                const xpThresholds = [0, 100, 300, 600, 1000, 2000];
                
                const currentRankIndex = ranks.indexOf(this.userProgress.rank);
                const nextRankIndex = currentRankIndex + 1;
                
                if (nextRankIndex < ranks.length && this.userProgress.totalXP >= xpThresholds[nextRankIndex]) {
                    this.userProgress.rank = ranks[nextRankIndex];
                    this.showToast('🎖️ OPUS PROMOTION! You are now ' + this.userProgress.rank + '! 🤖', 'promotion');
                }
            }

            updateProgressDisplay() {
                const progressContent = document.getElementById('progress-content');
                if (!progressContent) return;

                progressContent.innerHTML = 
                    '<div style="display: flex; gap: 30px; justify-content: center; flex-wrap: wrap;">' +
                        '<div style="text-align: center; padding: 15px; background: rgba(74, 144, 226, 0.1); border-radius: 8px;">' +
                            '<div style="font-size: 2em; color: #00ff88;">' + this.userProgress.rank + '</div>' +
                            '<div style="color: #888;">Current Rank</div>' +
                        '</div>' +
                        '<div style="text-align: center; padding: 15px; background: rgba(74, 144, 226, 0.1); border-radius: 8px;">' +
                            '<div style="font-size: 2em; color: #4a90e2;">' + this.userProgress.totalXP + ' XP</div>' +
                            '<div style="color: #888;">Total Experience</div>' +
                        '</div>' +
                        '<div style="text-align: center; padding: 15px; background: rgba(74, 144, 226, 0.1); border-radius: 8px;">' +
                            '<div style="font-size: 2em; color: #ff6b35;">' + this.userProgress.opusSessions + '</div>' +
                            '<div style="color: #888;">Opus Sessions</div>' +
                        '</div>' +
                    '</div>';
            }

            showToast(message, type) {
                const toast = document.createElement('div');
                const colors = {
                    'success': '#00ff88',
                    'warning': '#ffaa00',
                    'promotion': '#ff00aa',
                    'error': '#ff6b35',
                    'info': '#4a90e2'
                };
                const bgColor = colors[type] || '#4a90e2';
                const textColor = (type === 'success' || type === 'warning') ? '#000' : '#fff';
                
                toast.style.cssText = 
                    'position: fixed; top: 20px; right: 20px; z-index: 10000;' +
                    'background: ' + bgColor + '; color: ' + textColor + ';' +
                    'padding: 15px 20px; border-radius: 8px; font-weight: bold;' +
                    'box-shadow: 0 4px 12px rgba(0,0,0,0.3);' +
                    'animation: slideIn 0.3s ease; max-width: 350px; font-size: 14px;';
                    
                toast.textContent = message;
                document.body.appendChild(toast);
                setTimeout(() => toast.remove(), 5000);
            }

            loadUserProgress() {
                console.log('📊 Opus User Progress Loaded:', this.userProgress);
            }

            saveUserProgress() {
                console.log('💾 Opus Progress Saved - Rank:', this.userProgress.rank, 'XP:', this.userProgress.totalXP);
            }
        }

        // 🤖 INITIALIZE OPUS VOLTRON
        document.addEventListener('DOMContentLoaded', function() {
            console.log('✅ FOUNDATION: Opus mission form found and protected');
            
            window.opusVoltron = new OpusVoltronMechaZord();
            window.hexMindBridge = window.opusVoltron;
            
            console.log('🤖 HexMind Voltron Opus Edition - FULLY OPERATIONAL! 🤖');
        });
    </script>
</body>
</html>
