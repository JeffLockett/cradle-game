<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>HexMind Command Center - Sacred Artist Jeff's AI Orchestration Hub</title>
    
    <!-- Favicon -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üåü</text></svg>">
    <link rel="apple-touch-icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üåü</text></svg>">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: linear-gradient(135deg, #0a0a0a, #1a1a2e, #16213e, #0f3460);
            color: #ffffff;
            min-height: 100vh;
            padding: 20px;
            position: relative;
            overflow-x: hidden;
        }

        /* Sacred Energy Background Animation */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 20% 30%, rgba(78, 205, 196, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 70%, rgba(255, 215, 0, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 50% 50%, rgba(255, 105, 180, 0.05) 0%, transparent 50%);
            animation: energyPulse 8s ease-in-out infinite;
            pointer-events: none;
            z-index: 0;
        }

        @keyframes energyPulse {
            0%, 100% { opacity: 0.3; transform: scale(1); }
            50% { opacity: 0.7; transform: scale(1.1); }
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            position: relative;
            z-index: 1;
        }

        /* Header Section */
        .header {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 15px;
            padding: 30px;
            text-align: center;
            margin-bottom: 30px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(78, 205, 196, 0.3);
            animation: fadeIn 0.5s ease-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .logo {
            display: inline-flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 10px;
        }

        .sacred-symbol {
            width: 60px;
            height: 60px;
            background: linear-gradient(45deg, #4ecdc4, #ffd700);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2em;
            animation: rotate 10s linear infinite;
        }

        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        h1 {
            font-size: 2.5em;
            font-weight: bold;
            background: linear-gradient(45deg, #4ecdc4, #ffd700, #4ecdc4);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-shadow: 0 0 30px rgba(78, 205, 196, 0.5);
        }

        .subtitle {
            color: #a8b2d1;
            font-size: 1.1em;
            margin-top: 5px;
        }

        /* Status Bar */
        .status-bar {
            background: rgba(78, 205, 196, 0.1);
            border: 1px solid rgba(78, 205, 196, 0.3);
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 20px;
            text-align: center;
            animation: slideIn 0.5s ease-out 0.2s both;
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateX(-30px); }
            to { opacity: 1; transform: translateX(0); }
        }

        .status-text {
            color: #4ecdc4;
            font-weight: 600;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .pulse-dot {
            width: 8px;
            height: 8px;
            background: #4ecdc4;
            border-radius: 50%;
            animation: pulse 1.5s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 0.6; transform: scale(1); }
            50% { opacity: 1; transform: scale(1.5); }
        }

        /* Main Content Grid */
        .main-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }

        /* Section Styling */
        .section {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 15px;
            padding: 25px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            animation: fadeInUp 0.5s ease-out 0.3s both;
        }

        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .section-title {
            color: #4ecdc4;
            font-size: 1.3em;
            font-weight: bold;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        /* AI Intelligence Enhancements */
        .ai-analysis-panel {
            background: rgba(138, 43, 226, 0.1);
            border: 1px solid rgba(138, 43, 226, 0.3);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            grid-column: 1 / -1;
        }

        .analysis-step {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 15px;
            margin: 10px 0;
            border-left: 4px solid #8a2be2;
            animation: slideInLeft 0.5s ease-out;
        }

        @keyframes slideInLeft {
            from { opacity: 0; transform: translateX(-30px); }
            to { opacity: 1; transform: translateX(0); }
        }

        .analysis-title {
            color: #da70d6;
            font-weight: bold;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .prompt-optimization {
            background: rgba(255, 215, 0, 0.1);
            border: 1px solid rgba(255, 215, 0, 0.3);
            border-radius: 10px;
            padding: 15px;
            margin-top: 15px;
        }

        .optimization-badge {
            background: linear-gradient(45deg, #ffd700, #ff6b6b);
            color: #000;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 0.8em;
            font-weight: bold;
            margin-left: 10px;
        }

        .intelligence-metrics {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            margin-top: 15px;
        }

        .metric-item {
            background: rgba(78, 205, 196, 0.2);
            border-radius: 8px;
            padding: 10px;
            text-align: center;
        }

        .metric-value {
            font-size: 1.5em;
            font-weight: bold;
            color: #4ecdc4;
        }

        .metric-label {
            font-size: 0.8em;
            opacity: 0.8;
        }

        /* Model Selection */
        .model-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 12px;
        }

        .model-card {
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .model-card::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(78, 205, 196, 0.2) 0%, transparent 70%);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .model-card:hover::before {
            opacity: 1;
        }

        .model-card.selected {
            border-color: #4ecdc4;
            background: rgba(78, 205, 196, 0.2);
            transform: translateY(-3px);
            box-shadow: 0 5px 20px rgba(78, 205, 196, 0.3);
        }

        .model-icon {
            font-size: 2em;
            margin-bottom: 8px;
        }

        .model-name {
            font-weight: 600;
            color: #ffffff;
            margin-bottom: 4px;
        }

        .model-desc {
            font-size: 0.85em;
            color: #a8b2d1;
        }

        /* Input Area */
        .idea-input {
            width: 100%;
            min-height: 120px;
            background: rgba(255, 255, 255, 0.08);
            border: 2px solid rgba(78, 205, 196, 0.3);
            border-radius: 12px;
            padding: 15px;
            color: #ffffff;
            font-size: 16px;
            font-family: inherit;
            resize: vertical;
            transition: all 0.3s ease;
        }

        .idea-input:focus {
            outline: none;
            border-color: #4ecdc4;
            background: rgba(255, 255, 255, 0.1);
            box-shadow: 0 0 20px rgba(78, 205, 196, 0.3);
        }

        .idea-input::placeholder {
            color: rgba(255, 255, 255, 0.5);
        }

        /* Buttons */
        .button-group {
            display: flex;
            gap: 12px;
            margin-top: 20px;
        }

        .btn {
            flex: 1;
            border: none;
            border-radius: 10px;
            padding: 15px 24px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }

        .btn:active::before {
            width: 300px;
            height: 300px;
        }

        .btn-primary {
            background: linear-gradient(45deg, #4ecdc4, #44a08d);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(78, 205, 196, 0.4);
        }

        .btn-secondary {
            background: rgba(255, 255, 255, 0.1);
            color: #ffffff;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .btn-secondary:hover {
            background: rgba(255, 255, 255, 0.15);
            transform: translateY(-2px);
        }

        /* Output Section */
        .output-section {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 15px;
            padding: 25px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 215, 0, 0.3);
            margin-top: 20px;
            animation: fadeIn 0.5s ease-out 0.4s both;
        }

        .output-item {
            background: rgba(255, 215, 0, 0.1);
            border: 1px solid rgba(255, 215, 0, 0.3);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 15px;
            animation: slideInRight 0.5s ease-out;
        }

        @keyframes slideInRight {
            from { opacity: 0; transform: translateX(30px); }
            to { opacity: 1; transform: translateX(0); }
        }

        .output-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .output-title {
            color: #ffd700;
            font-weight: bold;
            font-size: 1.1em;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .copy-btn {
            background: rgba(78, 205, 196, 0.8);
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.9em;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .copy-btn:hover {
            background: #4ecdc4;
            transform: scale(1.05);
        }

        .output-content {
            color: #ffffff;
            line-height: 1.6;
            white-space: pre-wrap;
            word-wrap: break-word;
            font-family: 'Monaco', 'Consolas', monospace;
            font-size: 0.95em;
        }

        /* History Section */
        .history-section {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 15px;
            padding: 20px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            margin-top: 20px;
            max-height: 300px;
            overflow-y: auto;
        }

        .history-item {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
            padding: 12px;
            margin-bottom: 10px;
            border-left: 3px solid #4ecdc4;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .history-item:hover {
            background: rgba(78, 205, 196, 0.1);
            transform: translateX(5px);
        }

        .history-time {
            font-size: 0.8em;
            color: #4ecdc4;
            margin-bottom: 5px;
        }

        .history-text {
            color: #ffffff;
            font-size: 0.95em;
        }

        /* Toast Notification */
        .toast {
            position: fixed;
            top: 30px;
            right: 30px;
            background: linear-gradient(45deg, #4ecdc4, #44a08d);
            color: white;
            padding: 15px 25px;
            border-radius: 10px;
            font-weight: 600;
            transform: translateX(400px);
            transition: transform 0.3s ease;
            z-index: 1000;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.3);
        }

        .toast.show {
            transform: translateX(0);
        }

        .toast.error {
            background: linear-gradient(45deg, #ff6b6b, #ee5a52);
        }

        .toast.success {
            background: linear-gradient(45deg, #4ecdc4, #44a08d);
        }

        /* Focus Mode */
        .focus-btn {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: linear-gradient(45deg, #4ecdc4, #44a08d);
            color: white;
            border: none;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            font-size: 1.5em;
            cursor: pointer;
            box-shadow: 0 5px 20px rgba(78, 205, 196, 0.4);
            transition: all 0.3s ease;
            z-index: 100;
        }

        .focus-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 8px 25px rgba(78, 205, 196, 0.5);
        }

        /* AI Response Processor Section */
        .processor-section {
            background: rgba(255, 105, 180, 0.1);
            border: 1px solid rgba(255, 105, 180, 0.3);
            border-radius: 15px;
            padding: 25px;
            margin-top: 20px;
            animation: fadeIn 0.5s ease-out 0.5s both;
        }

        .response-input {
            width: 100%;
            min-height: 200px;
            background: rgba(255, 255, 255, 0.08);
            border: 2px solid rgba(255, 105, 180, 0.3);
            border-radius: 12px;
            padding: 15px;
            color: #ffffff;
            font-size: 14px;
            font-family: 'Monaco', 'Consolas', monospace;
            resize: vertical;
            transition: all 0.3s ease;
        }

        .response-input:focus {
            outline: none;
            border-color: #ff69b4;
            background: rgba(255, 255, 255, 0.1);
            box-shadow: 0 0 20px rgba(255, 105, 180, 0.3);
        }

        .response-input::placeholder {
            color: rgba(255, 255, 255, 0.5);
        }

        .ai-selector {
            display: grid;
            grid-template-columns: repeat(6, 1fr);
            gap: 8px;
            margin-bottom: 15px;
        }

        .ai-tag {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            padding: 8px 12px;
            text-align: center;
            cursor: pointer;
            font-size: 0.85em;
            transition: all 0.3s ease;
        }

        .ai-tag:hover {
            background: rgba(255, 105, 180, 0.2);
        }

        .ai-tag.selected {
            background: rgba(255, 105, 180, 0.3);
            border-color: #ff69b4;
            color: #ff69b4;
            font-weight: bold;
        }

        .processing-options {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin-top: 15px;
        }

        .process-btn {
            background: linear-gradient(45deg, #ff69b4, #ff1493);
            border: none;
            border-radius: 8px;
            padding: 12px 16px;
            color: white;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9em;
        }

        .process-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255, 105, 180, 0.4);
        }

        /* Processed Output */
        .processed-output {
            background: rgba(0, 0, 0, 0.4);
            border-radius: 12px;
            padding: 20px;
            margin-top: 20px;
            border: 1px solid rgba(255, 105, 180, 0.3);
        }

        .chunk-item {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 15px;
            border-left: 4px solid #ff69b4;
        }

        .chunk-header {
            display: flex;
            justify-content: between;
            align-items: center;
            margin-bottom: 10px;
        }

        .chunk-title {
            color: #ff69b4;
            font-weight: bold;
            font-size: 1.1em;
        }

        .chunk-meta {
            font-size: 0.8em;
            color: #a8b2d1;
            margin-left: auto;
        }

        .chunk-content {
            color: #ffffff;
            line-height: 1.6;
            white-space: pre-wrap;
        }

        /* Export Options */
        .export-panel {
            background: rgba(0, 0, 0, 0.2);
            border-radius: 10px;
            padding: 15px;
            margin-top: 20px;
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .export-btn {
            background: rgba(78, 205, 196, 0.8);
            border: none;
            border-radius: 6px;
            padding: 8px 16px;
            color: white;
            font-weight: bold;
            cursor: pointer;
            font-size: 0.9em;
            transition: all 0.3s ease;
        }

        .export-btn:hover {
            background: #4ecdc4;
            transform: scale(1.05);
        }
        @media (max-width: 768px) {
            .main-grid {
                grid-template-columns: 1fr;
            }
            
            function setupMainApp() {
                setupEventListeners();
                loadSavedData();
                updateStatus('HexMind Ready - Select AI Models & Enter Your Idea');
                setTimeout(function() {
                    showToast('üéµ HexMind Command Center Activated!', 'success');
                }, 500);
            }
            
            h1 {
                font-size: 1.8em;
            }
            
            .model-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .button-group {
                flex-direction: column;
            }
            
            .toast {
                right: 20px;
                left: 20px;
                transform: translateY(-100px);
            }
            
            .toast.show {
                transform: translateY(0);
            }

            .intelligence-metrics {
                grid-template-columns: repeat(2, 1fr);
            }

            .ai-selector {
                grid-template-columns: repeat(3, 1fr);
            }

            .processing-options {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- Password Protection Overlay -->
    <div class="password-overlay" id="passwordOverlay">
        <div class="password-container">
            <div class="password-title">üîê HexMind Access</div>
            <div class="password-subtitle">Sacred Artist Jeff's Protected AI Hub</div>
            <input type="password" class="password-input" id="passwordInput" placeholder="Enter access code..." maxlength="20">
            <div>
                <button class="password-btn" onclick="checkPassword()">üöÄ Access HexMind</button>
            </div>
            <div id="passwordError" class="password-error"></div>
            <div class="password-hint">Hint: Sacred geometric number + AI mind fusion</div>
        </div>
    </div>

    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="logo">
                <div class="sacred-symbol">üåü</div>
                <h1>HexMind Command Center</h1>
            </div>
            <p class="subtitle">Sacred Artist Jeff's AI Orchestration Hub</p>
        </header>

        <!-- Status Bar -->
        <div class="status-bar">
            <div class="status-text">
                <div class="pulse-dot"></div>
                <span id="statusText">HexMind Ready - Select AI Models & Enter Your Idea</span>
            </div>
        </div>

        <!-- Main Content -->
        <div class="main-grid">
            <!-- Model Selection -->
            <div class="section">
                <h2 class="section-title">
                    <span>ü§ñ</span>
                    <span>Select AI Models</span>
                </h2>
                <div class="model-grid">
                    <div class="model-card" data-model="claude">
                        <div class="model-icon">üß†</div>
                        <div class="model-name">Claude Sonnet 4</div>
                        <div class="model-desc">Deep Analysis</div>
                    </div>
                    <div class="model-card" data-model="perplexity">
                        <div class="model-icon">üîç</div>
                        <div class="model-name">Perplexity</div>
                        <div class="model-desc">Real-time Research</div>
                    </div>
                    <div class="model-card" data-model="gemini">
                        <div class="model-icon">‚ú®</div>
                        <div class="model-name">Gemini Pro</div>
                        <div class="model-desc">Creative Solutions</div>
                    </div>
                    <div class="model-card" data-model="grok">
                        <div class="model-icon">üöÄ</div>
                        <div class="model-name">Grok/SuperGrok</div>
                        <div class="model-desc">Bold Insights</div>
                    </div>
                    <div class="model-card" data-model="chatgpt">
                        <div class="model-icon">‚ö°</div>
                        <div class="model-name">ChatGPT</div>
                        <div class="model-desc">Versatile Tasks</div>
                    </div>
                    <div class="model-card" data-model="copilot">
                        <div class="model-icon">üíª</div>
                        <div class="model-name">GitHub Copilot</div>
                        <div class="model-desc">Code Generation</div>
                    </div>
                </div>
            </div>

            <!-- Input Section -->
            <div class="section">
                <h2 class="section-title">
                    <span>üí°</span>
                    <span>Your Idea</span>
                </h2>
                <textarea 
                    id="ideaInput" 
                    class="idea-input" 
                    placeholder="Enter your project idea, research topic, or problem to solve..."
                ></textarea>
                <div class="button-group">
                    <button class="btn btn-primary" id="generateBtn">
                        üöÄ Generate AI Commands
                    </button>
                    <button class="btn btn-secondary" id="clearBtn">
                        üîÑ Clear All
                    </button>
                </div>
            </div>
        </div>

        <!-- Output Section -->
        <div class="output-section">
            <h2 class="section-title">
                <span>üéØ</span>
                <span>Generated AI Research Commands</span>
            </h2>
            <div id="outputArea">
                <div class="output-item">
                    <div class="output-content">Your AI-optimized prompts will appear here...</div>
                </div>
            </div>
        </div>

        <!-- AI Response Processor -->
        <div class="processor-section">
            <h2 class="section-title">
                <span>ü§ñ</span>
                <span>AI Response Processor</span>
            </h2>
            
            <div>
                <h3 style="color: #ff69b4; margin-bottom: 10px;">Select Source AI:</h3>
                <div class="ai-selector">
                    <div class="ai-tag" data-ai="claude">üß† Claude</div>
                    <div class="ai-tag" data-ai="perplexity">üîç Perplexity</div>
                    <div class="ai-tag" data-ai="gemini">‚ú® Gemini</div>
                    <div class="ai-tag" data-ai="grok">üöÄ Grok</div>
                    <div class="ai-tag" data-ai="chatgpt">‚ö° ChatGPT</div>
                    <div class="ai-tag" data-ai="copilot">üíª Copilot</div>
                </div>
                
                <textarea 
                    id="responseInput" 
                    class="response-input" 
                    placeholder="Paste the AI response here for intelligent processing, chunking, and formatting..."
                ></textarea>
                
                <div class="processing-options">
                    <button class="process-btn" onclick="processResponse('chunk')">
                        üìã Smart Chunking
                    </button>
                    <button class="process-btn" onclick="processResponse('markdown')">
                        üìù Generate Markdown
                    </button>
                    <button class="process-btn" onclick="processResponse('html')">
                        üåê Generate HTML
                    </button>
                </div>
            </div>
            
            <div id="processedOutput" class="processed-output" style="display: none;">
                <div class="export-panel">
                    <span style="color: #ff69b4; font-weight: bold;">Export Options:</span>
                    <button class="export-btn" onclick="exportProcessed('copy')">üìã Copy All</button>
                    <button class="export-btn" onclick="exportProcessed('download')">üíæ Download</button>
                    <button class="export-btn" onclick="exportProcessed('clear')">üóëÔ∏è Clear</button>
                </div>
                <div id="processedContent"></div>
            </div>
        </div>

        <!-- History Section -->
        <div class="history-section">
            <h2 class="section-title">
                <span>üìö</span>
                <span>Session History</span>
            </h2>
            <div id="historyArea">
                <div class="history-item">
                    <div class="history-time">Session Start</div>
                    <div class="history-text">HexMind Orchestrator Initialized</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Toast Notification -->
    <div class="toast" id="toast"></div>

    <!-- Focus Mode Button -->
    <button class="focus-btn" id="focusBtn" title="Focus Mode">‚ö°</button>

    <script>
        (function() {
            'use strict';
            
            // Hidden Password System
            var HIDDEN_ACCESS_KEY = 'hex6mind2025'; // Sacred Artist Jeff's protected access
            var isAuthenticated = false;
            
            // Check for saved authentication
            function checkSavedAuth() {
                var saved = window.hexmindAuth;
                if (saved && saved === HIDDEN_ACCESS_KEY) {
                    isAuthenticated = true;
                    var overlay = document.getElementById('passwordOverlay');
                    if (overlay) {
                        overlay.style.display = 'none';
                    }
                    return true;
                }
                return false;
            }
            
            // Password verification
            window.checkPassword = function() {
                var input = document.getElementById('passwordInput').value.toLowerCase().trim();
                var errorDiv = document.getElementById('passwordError');
                
                if (input === HIDDEN_ACCESS_KEY) {
                    isAuthenticated = true;
                    window.hexmindAuth = HIDDEN_ACCESS_KEY; // Save auth in memory
                    
                    // Hide overlay
                    var overlay = document.getElementById('passwordOverlay');
                    overlay.style.display = 'none';
                    
                    // Initialize main app
                    setupMainApp();
                    
                    showToast('üéâ Welcome to HexMind, Sacred Artist Jeff!', 'success');
                    
                    // Cool unlock animation
                    setTimeout(function() {
                        var header = document.querySelector('.header');
                        if (header) {
                            header.style.animation = 'glow 2s ease-in-out';
                        }
                    }, 500);
                    
                } else {
                    errorDiv.textContent = '‚ùå Invalid access code. Try again.';
                    document.getElementById('passwordInput').value = '';
                    
                    // Shake animation for wrong password
                    var container = document.querySelector('.password-container');
                    container.style.animation = 'shake 0.5s ease-in-out';
                    setTimeout(function() {
                        container.style.animation = '';
                    }, 500);
                }
            };
            
            // Allow Enter key for password
            function setupPasswordListeners() {
                document.getElementById('passwordInput').addEventListener('keydown', function(e) {
                    if (e.key === 'Enter') {
                        checkPassword();
                    }
                });
            }
            
            // Initialize with password check
            function init() {
                setupPasswordListeners();
                
                // Check if already authenticated
                if (checkSavedAuth()) {
                    // Already authenticated, proceed normally
                    setupMainApp();
                } else {
                    // Show password overlay
                    document.getElementById('passwordOverlay').classList.remove('hidden');
                }
            }
            
            // State
            var selectedModels = [];
            var historyItems = [];
            var autoSaveTimer = null;
            var lastSaveTime = 0;
            var selectedAI = '';
            var processedData = null;
            
            // Event Listeners
            function setupEventListeners() {
                // Model selection
                var modelCards = document.querySelectorAll('.model-card');
                for (var i = 0; i < modelCards.length; i++) {
                    modelCards[i].addEventListener('click', handleModelClick);
                }
                
                // Buttons
                document.getElementById('generateBtn').addEventListener('click', generateCommands);
                document.getElementById('clearBtn').addEventListener('click', clearAll);
                document.getElementById('focusBtn').addEventListener('click', toggleFocus);
                
                // AI Selector tags
                var aiTags = document.querySelectorAll('.ai-tag');
                for (var i = 0; i < aiTags.length; i++) {
                    aiTags[i].addEventListener('click', handleAISelection);
                }
                
                // Response input auto-save
                var responseInput = document.getElementById('responseInput');
                responseInput.addEventListener('input', triggerAutoSave);
                
                // Auto-save on input changes
                var ideaInput = document.getElementById('ideaInput');
                ideaInput.addEventListener('input', triggerAutoSave);
                ideaInput.addEventListener('blur', saveImmediately);
                
                // Keyboard shortcuts
                ideaInput.addEventListener('keydown', function(e) {
                    if ((e.ctrlKey || e.metaKey) && e.key === 'Enter') {
                        e.preventDefault();
                        generateCommands();
                    }
                    if ((e.ctrlKey || e.metaKey) && e.key === 's') {
                        e.preventDefault();
                        saveImmediately();
                        showToast('üíæ Saved!', 'success');
                    }
                });
                
                // Save before page unload
                window.addEventListener('beforeunload', function() {
                    saveImmediately();
                });
                
                // Save on visibility change (tab switching)
                document.addEventListener('visibilitychange', function() {
                    if (document.visibilityState === 'hidden') {
                        saveImmediately();
                    }
                });
            }
            
            // Model selection handler
            function handleModelClick(e) {
                var card = e.currentTarget;
                var model = card.getAttribute('data-model');
                var index = selectedModels.indexOf(model);
                
                if (index > -1) {
                    selectedModels.splice(index, 1);
                    card.classList.remove('selected');
                } else {
                    selectedModels.push(model);
                    card.classList.add('selected');
                }
                
                updateStatus('Selected ' + selectedModels.length + ' AI model(s)');
                triggerAutoSave();
            }
            
            // AI Selection Handler
            function handleAISelection(e) {
                var aiTags = document.querySelectorAll('.ai-tag');
                for (var i = 0; i < aiTags.length; i++) {
                    aiTags[i].classList.remove('selected');
                }
                
                e.currentTarget.classList.add('selected');
                selectedAI = e.currentTarget.getAttribute('data-ai');
                updateStatus('Selected ' + selectedAI + ' for response processing');
            }
            
            // AI Response Processing Functions
            window.processResponse = function(type) {
                var responseText = document.getElementById('responseInput').value.trim();
                
                if (!responseText) {
                    showToast('Please paste an AI response first!', 'error');
                    return;
                }
                
                if (!selectedAI) {
                    showToast('Please select the source AI first!', 'error');
                    return;
                }
                
                updateStatus('ü§ñ Processing ' + selectedAI + ' response...');
                
                setTimeout(function() {
                    var processed;
                    
                    switch(type) {
                        case 'chunk':
                            processed = smartChunking(responseText, selectedAI);
                            break;
                        case 'markdown':
                            processed = generateMarkdown(responseText, selectedAI);
                            break;
                        case 'html':
                            processed = generateHTML(responseText, selectedAI);
                            break;
                        default:
                            processed = smartChunking(responseText, selectedAI);
                    }
                    
                    displayProcessedOutput(processed, type);
                    processedData = { content: processed, type: type, source: selectedAI };
                    
                    updateStatus('‚ú® Response processed successfully!');
                    showToast('üéØ ' + selectedAI + ' response processed!', 'success');
                    addToHistory('Processed ' + selectedAI + ' response (' + type + ')');
                }, 1000);
            };
            
            function smartChunking(text, source) {
                // Intelligent chunking based on content structure
                var chunks = [];
                var lines = text.split('\n');
                var currentChunk = '';
                var chunkTitle = '';
                var chunkNumber = 1;
                
                // Patterns for identifying sections
                var headerPatterns = [
                    /^#+\s+(.+)/, // Markdown headers
                    /^(.+):$/, // Colon-ended titles
                    /^\*\*(.+)\*\*/, // Bold titles
                    /^(\d+\.|[A-Z]\.)\s+(.+)/, // Numbered/lettered items
                    /^[-*]\s+(.+)/ // Bullet points
                ];
                
                for (var i = 0; i < lines.length; i++) {
                    var line = lines[i].trim();
                    
                    if (!line) {
                        if (currentChunk.trim()) {
                            currentChunk += '\n';
                        }
                        continue;
                    }
                    
                    // Check if this line is a header
                    var isHeader = false;
                    for (var j = 0; j < headerPatterns.length; j++) {
                        var match = line.match(headerPatterns[j]);
                        if (match) {
                            // Save previous chunk
                            if (currentChunk.trim()) {
                                chunks.push({
                                    title: chunkTitle || 'Section ' + chunkNumber,
                                    content: currentChunk.trim(),
                                    source: source,
                                    length: currentChunk.length
                                });
                                chunkNumber++;
                            }
                            
                            // Start new chunk
                            chunkTitle = match[1] || match[2] || line;
                            currentChunk = '';
                            isHeader = true;
                            break;
                        }
                    }
                    
                    if (!isHeader) {
                        currentChunk += line + '\n';
                    }
                    
                    // Auto-chunk if getting too long (2000 chars)
                    if (currentChunk.length > 2000) {
                        chunks.push({
                            title: chunkTitle || 'Section ' + chunkNumber,
                            content: currentChunk.trim(),
                            source: source,
                            length: currentChunk.length
                        });
                        chunkNumber++;
                        currentChunk = '';
                        chunkTitle = '';
                    }
                }
                
                // Add final chunk
                if (currentChunk.trim()) {
                    chunks.push({
                        title: chunkTitle || 'Section ' + chunkNumber,
                        content: currentChunk.trim(),
                        source: source,
                        length: currentChunk.length
                    });
                }
                
                return chunks;
            }
            
            function generateMarkdown(text, source) {
                var chunks = smartChunking(text, source);
                var markdown = '# ' + getAIName(source) + ' Research Results\n\n';
                markdown += '*Generated by HexMind Command Center*\n\n';
                markdown += '---\n\n';
                
                for (var i = 0; i < chunks.length; i++) {
                    var chunk = chunks[i];
                    markdown += '## ' + chunk.title + '\n\n';
                    markdown += chunk.content + '\n\n';
                    if (i < chunks.length - 1) {
                        markdown += '---\n\n';
                    }
                }
                
                return markdown;
            }
            
            function generateHTML(text, source) {
                var chunks = smartChunking(text, source);
                var html = '<!DOCTYPE html>\n<html>\n<head>\n';
                html += '<title>' + getAIName(source) + ' Research Results</title>\n';
                html += '<style>\nbody { font-family: Arial, sans-serif; max-width: 800px; margin: 0 auto; padding: 20px; }\n';
                html += 'h1 { color: #333; border-bottom: 2px solid #4ecdc4; }\n';
                html += 'h2 { color: #666; margin-top: 30px; }\n';
                html += '.chunk { background: #f9f9f9; padding: 20px; margin: 20px 0; border-radius: 8px; }\n';
                html += '.meta { color: #888; font-size: 0.9em; }\n';
                html += '</style>\n</head>\n<body>\n';
                
                html += '<h1>' + getAIName(source) + ' Research Results</h1>\n';
                html += '<p class="meta">Generated by HexMind Command Center</p>\n';
                
                for (var i = 0; i < chunks.length; i++) {
                    var chunk = chunks[i];
                    html += '<div class="chunk">\n';
                    html += '<h2>' + chunk.title + '</h2>\n';
                    html += '<pre>' + chunk.content + '</pre>\n';
                    html += '</div>\n';
                }
                
                html += '</body>\n</html>';
                return html;
            }
            
            function getAIName(aiKey) {
                var names = {
                    claude: 'Claude Sonnet 4',
                    perplexity: 'Perplexity',
                    gemini: 'Gemini Pro',
                    grok: 'Grok/SuperGrok',
                    chatgpt: 'ChatGPT',
                    copilot: 'GitHub Copilot'
                };
                return names[aiKey] || aiKey;
            }
            
            function displayProcessedOutput(data, type) {
                var outputDiv = document.getElementById('processedOutput');
                var contentDiv = document.getElementById('processedContent');
                
                outputDiv.style.display = 'block';
                
                if (type === 'chunk') {
                    var html = '';
                    for (var i = 0; i < data.length; i++) {
                        var chunk = data[i];
                        html += '<div class="chunk-item">';
                        html += '<div class="chunk-header">';
                        html += '<div class="chunk-title">' + chunk.title + '</div>';
                        html += '<div class="chunk-meta">' + chunk.length + ' chars | ' + chunk.source + '</div>';
                        html += '</div>';
                        html += '<div class="chunk-content">' + chunk.content + '</div>';
                        html += '</div>';
                    }
                    contentDiv.innerHTML = html;
                } else {
                    contentDiv.innerHTML = '<pre style="color: #fff; background: rgba(0,0,0,0.3); padding: 20px; border-radius: 8px; overflow-x: auto;">' + 
                                         data.replace(/</g, '&lt;').replace(/>/g, '&gt;') + '</pre>';
                }
            }
            
            // Export Functions
            window.exportProcessed = function(action) {
                if (!processedData) {
                    showToast('No processed data to export!', 'error');
                    return;
                }
                
                switch(action) {
                    case 'copy':
                        var textToCopy = processedData.type === 'chunk' ? 
                            processedData.content.map(c => c.title + '\n' + c.content).join('\n\n---\n\n') :
                            processedData.content;
                        
                        var textarea = document.createElement('textarea');
                        textarea.value = textToCopy;
                        textarea.style.position = 'fixed';
                        textarea.style.opacity = '0';
                        document.body.appendChild(textarea);
                        textarea.select();
                        
                        try {
                            document.execCommand('copy');
                            showToast('üìã Processed content copied!', 'success');
                        } catch (err) {
                            showToast('Copy failed!', 'error');
                        }
                        
                        document.body.removeChild(textarea);
                        break;
                        
                    case 'download':
                        var filename = getAIName(processedData.source) + '_processed_' + 
                                     new Date().toISOString().slice(0,10) + 
                                     (processedData.type === 'html' ? '.html' : 
                                      processedData.type === 'markdown' ? '.md' : '.txt');
                        
                        var content = processedData.type === 'chunk' ? 
                            processedData.content.map(c => c.title + '\n' + c.content).join('\n\n---\n\n') :
                            processedData.content;
                        
                        var blob = new Blob([content], { type: 'text/plain' });
                        var url = URL.createObjectURL(blob);
                        var a = document.createElement('a');
                        a.href = url;
                        a.download = filename;
                        a.click();
                        URL.revokeObjectURL(url);
                        
                        showToast('üíæ File downloaded!', 'success');
                        break;
                        
                    case 'clear':
                        document.getElementById('processedOutput').style.display = 'none';
                        document.getElementById('responseInput').value = '';
                        processedData = null;
                        selectedAI = '';
                        
                        var aiTags = document.querySelectorAll('.ai-tag');
                        for (var i = 0; i < aiTags.length; i++) {
                            aiTags[i].classList.remove('selected');
                        }
                        
                        showToast('üóëÔ∏è Processor cleared!', 'success');
                        break;
                }
            };
            
            // AI Intelligence Engine - Core Functionality
            function analyzeIdea(idea) {
                var analysis = {
                    complexity: calculateComplexity(idea),
                    researchAreas: identifyResearchAreas(idea),
                    keyTerms: extractKeyTerms(idea),
                    context: determineContext(idea),
                    intent: classifyIntent(idea)
                };
                
                displayAIAnalysis(analysis);
                return analysis;
            }
            
            function calculateComplexity(idea) {
                var factors = {
                    length: Math.min(idea.length / 200, 1),
                    technical: (idea.match(/\b(API|database|algorithm|framework|architecture|system)\b/gi) || []).length * 0.1,
                    research: (idea.match(/\b(analysis|study|research|investigate|explore|examine)\b/gi) || []).length * 0.15,
                    business: (idea.match(/\b(strategy|market|revenue|growth|scale|optimize)\b/gi) || []).length * 0.1
                };
                
                var complexity = (factors.length + factors.technical + factors.research + factors.business) / 1.35;
                return Math.min(Math.max(complexity, 0.1), 1);
            }
            
            function identifyResearchAreas(idea) {
                var areas = [];
                var keywords = {
                    'Technical': /\b(code|programming|software|API|database|system|algorithm|framework)\b/gi,
                    'Business': /\b(market|strategy|revenue|growth|customer|business|sales|marketing)\b/gi,
                    'Creative': /\b(design|creative|art|visual|brand|aesthetic|user experience|UX)\b/gi,
                    'Research': /\b(data|analysis|study|research|statistics|trends|insights)\b/gi,
                    'Innovation': /\b(innovation|disrupt|breakthrough|novel|emerging|cutting-edge)\b/gi
                };
                
                for (var area in keywords) {
                    if (keywords[area].test(idea)) {
                        areas.push(area);
                    }
                }
                
                return areas.length > 0 ? areas : ['General'];
            }
            
            function extractKeyTerms(idea) {
                // Remove common words and extract meaningful terms
                var stopWords = new Set(['the', 'a', 'an', 'and', 'or', 'but', 'in', 'on', 'at', 'to', 'for', 'of', 'with', 'by', 'how', 'what', 'where', 'when', 'why', 'i', 'you', 'we', 'they', 'it', 'this', 'that', 'is', 'are', 'was', 'were', 'be', 'been', 'have', 'has', 'had', 'do', 'does', 'did', 'will', 'would', 'could', 'should', 'can', 'may', 'might']);
                
                var words = idea.toLowerCase()
                    .replace(/[^\w\s]/g, ' ')
                    .split(/\s+/)
                    .filter(word => word.length > 3 && !stopWords.has(word));
                
                // Count frequency and return top terms
                var frequency = {};
                words.forEach(word => {
                    frequency[word] = (frequency[word] || 0) + 1;
                });
                
                return Object.keys(frequency)
                    .sort((a, b) => frequency[b] - frequency[a])
                    .slice(0, 5);
            }
            
            function determineContext(idea) {
                var contexts = {
                    'Startup/Business': /\b(startup|business|entrepreneur|venture|company|market|revenue)\b/gi,
                    'Academic/Research': /\b(research|study|academic|university|paper|thesis|analysis)\b/gi,
                    'Personal Project': /\b(personal|hobby|side project|learn|improve|skill)\b/gi,
                    'Professional': /\b(work|career|professional|client|project|team|corporate)\b/gi,
                    'Technical': /\b(code|programming|software|development|technical|system)\b/gi
                };
                
                for (var context in contexts) {
                    if (contexts[context].test(idea)) {
                        return context;
                    }
                }
                
                return 'General Inquiry';
            }
            
            function classifyIntent(idea) {
                var intents = {
                    'Problem Solving': /\b(solve|fix|problem|issue|challenge|overcome)\b/gi,
                    'Research & Analysis': /\b(research|analyze|investigate|study|explore|understand)\b/gi,
                    'Creation & Building': /\b(create|build|develop|make|design|construct)\b/gi,
                    'Optimization': /\b(improve|optimize|enhance|better|upgrade|refine)\b/gi,
                    'Learning': /\b(learn|understand|explain|teach|guide|tutorial)\b/gi,
                    'Strategy & Planning': /\b(plan|strategy|roadmap|approach|framework|methodology)\b/gi
                };
                
                for (var intent in intents) {
                    if (intents[intent].test(idea)) {
                        return intent;
                    }
                }
                
                return 'Information Seeking';
            }
            
            function displayAIAnalysis(analysis) {
                // Create or update analysis panel
                var existingPanel = document.querySelector('.ai-analysis-panel');
                if (existingPanel) {
                    existingPanel.remove();
                }
                
                var analysisPanel = document.createElement('div');
                analysisPanel.className = 'ai-analysis-panel';
                
                var complexityPercent = Math.round(analysis.complexity * 100);
                var complexityLevel = complexityPercent < 30 ? 'Simple' : complexityPercent < 70 ? 'Moderate' : 'Complex';
                
                analysisPanel.innerHTML = `
                    <h2 class="section-title">
                        <span>üß†</span>
                        <span>AI Intelligence Analysis</span>
                    </h2>
                    
                    <div class="analysis-step">
                        <div class="analysis-title">üéØ Intent Classification</div>
                        <div>Primary Intent: <strong>${analysis.intent}</strong></div>
                    </div>
                    
                    <div class="analysis-step">
                        <div class="analysis-title">üîç Research Areas Identified</div>
                        <div>Focus Areas: <strong>${analysis.researchAreas.join(', ')}</strong></div>
                    </div>
                    
                    <div class="analysis-step">
                        <div class="analysis-title">üìä Complexity Assessment</div>
                        <div>Complexity Level: <strong>${complexityLevel}</strong> (${complexityPercent}%)</div>
                    </div>
                    
                    <div class="analysis-step">
                        <div class="analysis-title">üè∑Ô∏è Key Terms Extracted</div>
                        <div>Priority Terms: <strong>${analysis.keyTerms.join(', ')}</strong></div>
                    </div>
                    
                    <div class="analysis-step">
                        <div class="analysis-title">üìã Context Classification</div>
                        <div>Primary Context: <strong>${analysis.context}</strong></div>
                    </div>
                    
                    <div class="intelligence-metrics">
                        <div class="metric-item">
                            <div class="metric-value">${analysis.researchAreas.length}</div>
                            <div class="metric-label">Research Areas</div>
                        </div>
                        <div class="metric-item">
                            <div class="metric-value">${complexityPercent}%</div>
                            <div class="metric-label">Complexity</div>
                        </div>
                        <div class="metric-item">
                            <div class="metric-value">${analysis.keyTerms.length}</div>
                            <div class="metric-label">Key Terms</div>
                        </div>
                        <div class="metric-item">
                            <div class="metric-value">${selectedModels.length}</div>
                            <div class="metric-label">AI Models</div>
                        </div>
                    </div>
                `;
                
                // Insert before output section
                var outputSection = document.querySelector('.output-section');
                outputSection.parentNode.insertBefore(analysisPanel, outputSection);
            }
            
            // Generate commands with AI intelligence
            function generateCommands() {
                var idea = document.getElementById('ideaInput').value.trim();
                
                if (!idea) {
                    showToast('Please enter an idea first!', 'error');
                    return;
                }
                
                if (selectedModels.length === 0) {
                    showToast('Please select at least one AI model!', 'error');
                    return;
                }
                
                // AI Intelligence Analysis
                updateStatus('üß† Analyzing idea with AI intelligence...');
                var analysis = analyzeIdea(idea);
                
                setTimeout(function() {
                    updateStatus('‚ö° Generating optimized AI prompts...');
                    
                    var outputArea = document.getElementById('outputArea');
                    outputArea.innerHTML = '';
                    
                    // Add original idea with intelligence insights
                    var ideaWithInsights = idea + '\n\n[AI Analysis: ' + analysis.intent + ' | ' + 
                                         analysis.context + ' | Complexity: ' + 
                                         Math.round(analysis.complexity * 100) + '%]';
                    addOutput('üí° Your Enhanced Idea', ideaWithInsights, false);
                    
                    // Generate optimized prompts for each model
                    for (var i = 0; i < selectedModels.length; i++) {
                        var model = selectedModels[i];
                        var prompt = generateIntelligentPrompt(model, idea, analysis);
                        var title = getModelIcon(model) + ' ' + getModelTitle(model);
                        
                        // Add optimization badges
                        var optimizations = getOptimizationBadges(model, analysis);
                        addOutput(title + optimizations, prompt, true);
                    }
                    
                    updateStatus('‚ú® Generated ' + selectedModels.length + ' intelligent AI research commands');
                    showToast('üß† AI-optimized commands generated!', 'success');
                    addToHistory('AI-analyzed: ' + idea.substring(0, 50) + '...');
                    triggerAutoSave();
                }, 1000); // Brief delay to show analysis
            }
            
            // Enhanced prompt generation with AI intelligence
            function generateIntelligentPrompt(model, idea, analysis) {
                var basePrompt = generatePromptForModel(model, idea);
                
                // Enhance prompts based on AI analysis
                var enhancements = {
                    complexity: analysis.complexity > 0.7 ? 
                        '\n\n**COMPLEXITY ALERT**: This is a complex topic requiring deep analysis. Please provide comprehensive, multi-layered insights with detailed examples and step-by-step breakdowns.' : '',
                    
                    researchAreas: analysis.researchAreas.length > 1 ? 
                        '\n\n**INTERDISCIPLINARY FOCUS**: This spans multiple domains (' + analysis.researchAreas.join(', ') + '). Please provide cross-disciplinary insights and connections.' : '',
                    
                    keyTerms: analysis.keyTerms.length > 0 ? 
                        '\n\n**KEY TERMS TO EXPAND**: ' + analysis.keyTerms.join(', ') + '. Please ensure deep coverage of these core concepts.' : '',
                    
                    context: '\n\n**CONTEXT OPTIMIZATION**: This appears to be a ' + analysis.context + ' inquiry. Please tailor your response accordingly with relevant examples and applications.',
                    
                    intent: '\n\n**INTENT ALIGNMENT**: Primary goal is ' + analysis.intent + '. Please structure your response to directly address this objective with actionable insights.'
                };
                
                // Model-specific intelligence enhancements
                var modelEnhancements = getModelSpecificEnhancements(model, analysis);
                
                return basePrompt + enhancements.complexity + enhancements.researchAreas + 
                       enhancements.keyTerms + enhancements.context + enhancements.intent + modelEnhancements;
            }
            
            function getModelSpecificEnhancements(model, analysis) {
                var enhancements = {
                    claude: analysis.complexity > 0.6 ? 
                        '\n\n**CLAUDE OPTIMIZATION**: Leverage your analytical depth for systematic reasoning, evidence synthesis, and nuanced interpretation of complex relationships.' : '',
                    
                    perplexity: analysis.researchAreas.includes('Research') || analysis.intent === 'Research & Analysis' ?
                        '\n\n**PERPLEXITY OPTIMIZATION**: Use your real-time search capabilities to provide the most current data, recent developments, and cite specific sources with publication dates.' : '',
                    
                    gemini: analysis.researchAreas.includes('Creative') || analysis.intent === 'Creation & Building' ?
                        '\n\n**GEMINI OPTIMIZATION**: Apply your creative problem-solving capabilities for innovative approaches, design thinking, and out-of-the-box solutions.' : '',
                    
                    grok: analysis.complexity > 0.5 ?
                        '\n\n**GROK OPTIMIZATION**: Challenge conventional wisdom with bold, contrarian insights. Think first-principles and suggest disruptive alternatives that others might miss.' : '',
                    
                    chatgpt: analysis.researchAreas.includes('Business') || analysis.context.includes('Professional') ?
                        '\n\n**CHATGPT OPTIMIZATION**: Utilize your broad knowledge base for strategic insights, practical frameworks, and comprehensive problem-solving approaches.' : '',
                    
                    copilot: analysis.researchAreas.includes('Technical') || analysis.context === 'Technical' ?
                        '\n\n**COPILOT OPTIMIZATION**: Focus on technical implementation, code architecture, best practices, and scalable solutions with detailed technical specifications.' : ''
                };
                
                return enhancements[model] || '';
            }
            
            function getOptimizationBadges(model, analysis) {
                var badges = [];
                
                if (analysis.complexity > 0.7) badges.push('üî• Deep Analysis');
                if (analysis.researchAreas.length > 2) badges.push('üîÄ Multi-Domain');
                if (analysis.keyTerms.length > 3) badges.push('üéØ Term-Focused');
                
                var modelBadges = {
                    claude: analysis.intent === 'Research & Analysis' ? ['üß† Logic Engine'] : [],
                    perplexity: analysis.researchAreas.includes('Research') ? ['üîç Live Data'] : [],
                    gemini: analysis.intent === 'Creation & Building' ? ['‚ú® Creative Mode'] : [],
                    grok: analysis.complexity > 0.5 ? ['üöÄ Contrarian Mode'] : [],
                    chatgpt: analysis.context.includes('Business') ? ['‚ö° Strategy Mode'] : [],
                    copilot: analysis.researchAreas.includes('Technical') ? ['üíª Code Optimized'] : []
                };
                
                badges = badges.concat(modelBadges[model] || []);
                
                return badges.length > 0 ? 
                    '<div class="prompt-optimization">' + 
                    badges.map(badge => '<span class="optimization-badge">' + badge + '</span>').join('') + 
                    '</div>' : '';
            }
            
            // Auto-save functions
            function triggerAutoSave() {
                // Clear existing timer
                if (autoSaveTimer) {
                    clearTimeout(autoSaveTimer);
                }
                
                // Set new timer for 2 seconds after last change
                autoSaveTimer = setTimeout(function() {
                    saveCurrentState();
                }, 2000);
            }
            
            function saveImmediately() {
                if (autoSaveTimer) {
                    clearTimeout(autoSaveTimer);
                    autoSaveTimer = null;
                }
                saveCurrentState();
            }
            
            function saveCurrentState() {
                try {
                    var currentState = {
                        idea: document.getElementById('ideaInput').value,
                        selectedModels: selectedModels.slice(), // Create copy
                        history: historyItems.slice(), // Create copy
                        timestamp: new Date().toISOString(),
                        version: '1.0'
                    };
                    
                    // Use in-memory storage since localStorage isn't available
                    window.hexmindAutoSave = currentState;
                    lastSaveTime = Date.now();
                    
                    // Update status to show save
                    var statusElement = document.getElementById('statusText');
                    var originalText = statusElement.textContent;
                    statusElement.textContent = 'üíæ Auto-saved at ' + new Date().toLocaleTimeString();
                    
                    setTimeout(function() {
                        if (statusElement.textContent.includes('Auto-saved')) {
                            statusElement.textContent = originalText;
                        }
                    }, 2000);
                    
                } catch (error) {
                    console.warn('Auto-save failed:', error);
                }
            }
            
            function loadSavedData() {
                try {
                    var savedState = window.hexmindAutoSave;
                    if (savedState && savedState.version === '1.0') {
                        // Restore idea text
                        if (savedState.idea) {
                            document.getElementById('ideaInput').value = savedState.idea;
                        }
                        
                        // Restore selected models
                        if (savedState.selectedModels && savedState.selectedModels.length > 0) {
                            selectedModels = savedState.selectedModels.slice();
                            
                            // Update UI to show selected models
                            var modelCards = document.querySelectorAll('.model-card');
                            for (var i = 0; i < modelCards.length; i++) {
                                var card = modelCards[i];
                                var model = card.getAttribute('data-model');
                                if (selectedModels.indexOf(model) > -1) {
                                    card.classList.add('selected');
                                }
                            }
                        }
                        
                        // Restore history
                        if (savedState.history && savedState.history.length > 0) {
                            historyItems = savedState.history.slice();
                            restoreHistoryDisplay();
                        }
                        
                        // Show restoration message
                        if (savedState.idea || savedState.selectedModels.length > 0) {
                            showToast('üîÑ Session restored from auto-save', 'success');
                            updateStatus('Session restored - ' + selectedModels.length + ' model(s) selected');
                        }
                    }
                } catch (error) {
                    console.warn('Failed to load saved data:', error);
                }
            }
            
            function restoreHistoryDisplay() {
                var historyArea = document.getElementById('historyArea');
                historyArea.innerHTML = '';
                
                // Add session start item
                var startItem = document.createElement('div');
                startItem.className = 'history-item';
                startItem.innerHTML = 
                    '<div class="history-time">Session Start</div>' +
                    '<div class="history-text">HexMind Orchestrator Initialized</div>';
                historyArea.appendChild(startItem);
                
                // Add restored history items
                for (var i = 0; i < historyItems.length; i++) {
                    var item = historyItems[i];
                    var historyItem = document.createElement('div');
                    historyItem.className = 'history-item';
                    historyItem.innerHTML = 
                        '<div class="history-time">' + item.time + '</div>' +
                        '<div class="history-text">' + item.text + '</div>';
                    historyArea.appendChild(historyItem);
                }
            }
            
            // Generate model-specific prompts
            function generatePromptForModel(model, idea) {
                var prompts = {
                    claude: '<role>Expert Research Analyst and Strategic Thinker</role>\n<context>Deep analysis request from Sacred Artist Jeff\'s HexMind system</context>\n\n<task>\nConduct a comprehensive, multi-layered analysis of: "' + idea + '"\n\n**Phase 1: Foundation Analysis**\n- Break down core components and stakeholders\n- Identify primary objectives and constraints\n- Map current landscape and existing solutions\n\n**Phase 2: Deep Research Investigation**\n- Analyze market trends and emerging patterns\n- Review academic research and best practices\n- Examine case studies and real-world implementations\n\n**Phase 3: Strategic Synthesis**\n- Develop actionable insights and recommendations\n- Create implementation roadmap with milestones\n- Identify potential obstacles and mitigation strategies\n\n**Phase 4: Innovation Opportunities**\n- Explore cutting-edge approaches and technologies\n- Consider interdisciplinary connections\n- Suggest novel applications and future directions\n</task>\n\n<output_format>\nStructure as a comprehensive research report with:\n- Executive Summary (key findings)\n- Detailed Analysis (evidence-based insights)\n- Strategic Recommendations (actionable steps)\n- Implementation Timeline\n- Risk Assessment\n- Innovation Opportunities\n</output_format>',
                    
                    perplexity: 'üîç **REAL-TIME RESEARCH COMMAND** üîç\n*Sacred Artist Jeff\'s HexMind Intelligence Network*\n\n**Research Mission:** "' + idea + '"\n\n**Phase 1: Current State Analysis**\n- What are the latest developments and trends (2024-2025)?\n- Who are the leading experts, companies, and thought leaders?\n- What recent studies, papers, or reports have been published?\n- What real-time data and statistics are available?\n\n**Phase 2: Market Intelligence**\n- Current market size, growth rates, and projections\n- Recent funding, investments, and acquisitions\n- Emerging competitors and disruptive technologies\n- Regulatory changes and policy updates\n\n**Phase 3: Expert Perspectives**\n- Recent interviews, podcasts, and expert opinions\n- Conference presentations and industry insights\n- Social media sentiment and community discussions\n- Academic research and peer-reviewed findings\n\n**Phase 4: Forward-Looking Analysis**\n- Predicted trends and future scenarios\n- Potential challenges and opportunities ahead\n- Recommended resources for deeper exploration\n- Key metrics and KPIs to monitor\n\n**Research Requirements:**\n- Prioritize sources from the last 6-12 months\n- Include specific data points, statistics, and quotes\n- Cite all sources with dates and credibility context\n- Highlight conflicting viewpoints or debates\n- Provide actionable next steps for further research\n\nPlease leverage your real-time search capabilities to provide the most current, evidence-based analysis available.',
                    
                    gemini: 'üé® **CREATIVE INNOVATION LAB** üé®\n*Sacred Artist Jeff\'s HexMind Creative Engine*\n\n**Mission:** Transform "' + idea + '" into breakthrough innovation\n\nüåü **Creative Exploration Matrix:**\n\n**Inspiration Phase:**\n- What unconventional approaches could revolutionize this space?\n- How might we reframe this challenge through different lenses?\n- What innovative solutions exist in completely different industries?\n- How would a child, artist, engineer, and philosopher each approach this?\n\nüí° **Ideation Acceleration:**\n- Generate 10+ wildly creative concepts (no limits!)\n- Combine opposing ideas for hybrid breakthrough solutions\n- Apply design thinking principles and human-centered design\n- Consider future-forward approaches (5-10 years ahead)\n\nüéØ **Creative-Practical Fusion:**\n- How can visionary ideas become actionable reality?\n- What rapid prototyping strategies could test concepts quickly?\n- How to maintain innovation while ensuring practical implementation?\n- What creative constraints could actually enhance the solution?\n\nüöÄ **Innovation Implementation:**\n- Design thinking methodology application\n- Rapid experimentation and iteration cycles\n- User experience optimization strategies\n- Creative project management approaches\n\nüåà **Multimodal Enhancement:**\n- Visual design and aesthetic considerations\n- Interactive and experiential elements\n- Storytelling and narrative frameworks\n- Community engagement and co-creation opportunities\n\nPlease unleash creative, boundary-pushing solutions while providing concrete implementation pathways.',
                    
                    grok: 'üöÄ **GROK SUPERBRAIN ACTIVATION** üöÄ\n*Sacred Artist Jeff\'s HexMind Rebellious Intelligence*\n\n**BOLD MISSION:** Disrupt everything about "' + idea + '"\n\nüí• **Unconventional Wisdom Protocol:**\n\n**Reality Check Phase:**\n- What sacred cows need to be slaughtered in this space?\n- What "obvious" assumptions are actually completely wrong?\n- Where is everyone else zigging when we should be zagging?\n- What would Elon Musk, Steve Jobs, and a pirate captain do?\n\nüéØ **Contrarian Analysis:**\n- What if we did the exact opposite of conventional wisdom?\n- Where are the hidden opportunities everyone else is missing?\n- What controversial takes might actually be brilliant?\n- How can we 10x this instead of incrementally improving?\n\n‚ö° **Supergrok Insights:**\n- Connect seemingly unrelated dots across industries\n- Apply first-principles thinking to demolish assumptions\n- Find the humor and absurdity in traditional approaches\n- Suggest wildly ambitious but somehow feasible alternatives\n\nüî• **Rebellious Implementation:**\n- What would a startup with unlimited funding do?\n- How can we move fast and break things (safely)?\n- What rules should we deliberately ignore or rewrite?\n- Where can we create unfair advantages through boldness?\n\nüåü **Future-Backward Thinking:**\n- If this succeeded beyond our wildest dreams, what would that look like?\n- What would the world look like if this problem was completely solved?\n- How can we think like we\'re already living in that future?\n\nBe bold, be witty, be brilliant. Channel that Grok energy and give me perspectives that will make conventional thinkers uncomfortable but ultimately change the game.',
                    
                    chatgpt: 'You are a master strategist and problem-solver working with Sacred Artist Jeff\'s HexMind Command Center. I need comprehensive assistance with: "' + idea + '"\n\n**Strategic Analysis Framework:**\n\nüéØ **Objective Clarification**\n- What are the core goals and desired outcomes?\n- Who are the key stakeholders and beneficiaries?\n- What constraints and limitations must be considered?\n\nüîç **Multi-Perspective Evaluation**\n- Technical feasibility and resource requirements\n- Market dynamics and competitive landscape\n- Social impact and ethical considerations\n- Financial implications and ROI potential\n\nüí° **Solution Architecture**\n- Generate 5-7 strategic approaches with pros/cons\n- Recommend optimal path with clear justification\n- Design implementation phases with success metrics\n- Plan for iteration and continuous improvement\n\n‚ö° **Execution Blueprint**\n- Break down into actionable tasks and milestones\n- Identify required resources and team structure\n- Create timeline with realistic deadlines\n- Establish monitoring and feedback systems\n\nüöÄ **Innovation Enhancement**\n- Consider emerging technologies and trends\n- Explore cross-industry best practices\n- Suggest creative alternatives and improvements\n- Plan for scalability and future expansion\n\nüìä **Risk Assessment & Mitigation**\n- Identify potential risks and failure points\n- Develop contingency plans and backup strategies\n- Create early warning systems and success metrics\n- Plan for pivot opportunities if needed\n\nPlease provide detailed, actionable guidance focused on practical implementation while maintaining strategic vision. Structure your response with clear headings and actionable bullet points.',
                    
                    copilot: '// üõ†Ô∏è TECHNICAL IMPLEMENTATION BLUEPRINT\n// Project: ' + idea + '\n// Sacred Artist Jeff\'s HexMind Development Command\n\n/*\n=====================================================\nCOMPREHENSIVE DEVELOPMENT STRATEGY\n=====================================================\n\n1. SYSTEM ARCHITECTURE DESIGN\n   ‚îú‚îÄ‚îÄ Technology Stack Selection\n   ‚îú‚îÄ‚îÄ Database Design & Data Flow\n   ‚îú‚îÄ‚îÄ API Architecture & Integration Points\n   ‚îú‚îÄ‚îÄ Security & Authentication Framework\n   ‚îî‚îÄ‚îÄ Scalability & Performance Optimization\n\n2. DEVELOPMENT PHASES\n   ‚îú‚îÄ‚îÄ Phase 1: Core MVP Development\n   ‚îú‚îÄ‚îÄ Phase 2: Feature Enhancement\n   ‚îú‚îÄ‚îÄ Phase 3: Advanced Functionality\n   ‚îú‚îÄ‚îÄ Phase 4: Optimization & Polish\n   ‚îî‚îÄ‚îÄ Phase 5: Deployment & Monitoring\n\n3. CODE QUALITY STANDARDS\n   ‚îú‚îÄ‚îÄ Clean Architecture Principles\n   ‚îú‚îÄ‚îÄ SOLID Design Patterns\n   ‚îú‚îÄ‚îÄ Comprehensive Error Handling\n   ‚îú‚îÄ‚îÄ Unit Testing & Integration Testing\n   ‚îî‚îÄ‚îÄ Code Documentation & Comments\n\n4. DEPLOYMENT STRATEGY\n   ‚îú‚îÄ‚îÄ CI/CD Pipeline Setup\n   ‚îú‚îÄ‚îÄ Environment Configuration\n   ‚îú‚îÄ‚îÄ Monitoring & Logging Systems\n   ‚îú‚îÄ‚îÄ Backup & Recovery Procedures\n   ‚îî‚îÄ‚îÄ Performance Monitoring Tools\n*/\n\n// REQUEST SCOPE: ' + idea + '\n\n// Please provide:\n// 1. **Technical Architecture** - System design and component breakdown\n// 2. **Code Examples** - Key implementations with best practices\n// 3. **File Structure** - Complete project organization\n// 4. **Setup Instructions** - Development environment configuration\n// 5. **Testing Strategy** - Unit tests, integration tests, and QA approach\n// 6. **Deployment Guide** - Production deployment steps and monitoring\n// 7. **Security Measures** - Authentication, authorization, and data protection\n// 8. **Performance Optimization** - Caching, database optimization, and scaling\n// 9. **Documentation** - API docs, code comments, and user guides\n// 10. **Maintenance Plan** - Updates, monitoring, and issue resolution\n\n// Focus on production-ready, scalable, and maintainable solutions.\n// Include mobile-responsive design and cross-platform compatibility.\n// Emphasize security, performance, and user experience best practices.\n// Provide specific code examples and architectural patterns.\n// Consider modern frameworks, cloud deployment, and DevOps practices.'
                };
                
                return prompts[model] || 'Help me with: ' + idea;
            }
            
            // Get model icon
            function getModelIcon(model) {
                var icons = {
                    claude: 'üß†',
                    perplexity: 'üîç',
                    gemini: '‚ú®',
                    grok: 'üöÄ',
                    chatgpt: '‚ö°',
                    copilot: 'üíª'
                };
                return icons[model] || 'ü§ñ';
            }
            
            // Get model title
            function getModelTitle(model) {
                var titles = {
                    claude: 'Claude Sonnet 4 - Deep Analysis',
                    perplexity: 'Perplexity - Real-time Research',
                    gemini: 'Gemini Pro - Creative Solutions',
                    grok: 'Grok/SuperGrok - Bold Insights',
                    chatgpt: 'ChatGPT - Versatile Problem Solving',
                    copilot: 'GitHub Copilot - Code Generation'
                };
                return titles[model] || model;
            }
            
            // Add output
            function addOutput(title, content, showCopy) {
                var outputArea = document.getElementById('outputArea');
                var outputItem = document.createElement('div');
                outputItem.className = 'output-item';
                outputItem.style.animationDelay = (outputArea.children.length * 0.1) + 's';
                
                var html = '<div class="output-header">' +
                          '<div class="output-title">' + title + '</div>';
                
                if (showCopy) {
                    html += '<button class="copy-btn" onclick="copyText(\'' + 
                           content.replace(/'/g, "\\'").replace(/\n/g, '\\n') + '\')">' +
                           'üìã Copy</button>';
                }
                
                html += '</div><div class="output-content">' + content + '</div>';
                outputItem.innerHTML = html;
                outputArea.appendChild(outputItem);
            }
            
            // Copy text
            window.copyText = function(text) {
                // Decode the escaped text
                text = text.replace(/\\n/g, '\n').replace(/\\'/g, "'");
                
                var textarea = document.createElement('textarea');
                textarea.value = text;
                textarea.style.position = 'fixed';
                textarea.style.opacity = '0';
                document.body.appendChild(textarea);
                textarea.select();
                textarea.setSelectionRange(0, 99999);
                
                try {
                    document.execCommand('copy');
                    showToast('üìã Copied to clipboard!', 'success');
                } catch (err) {
                    showToast('Copy failed!', 'error');
                }
                
                document.body.removeChild(textarea);
            };
            
            // Clear all
            function clearAll() {
                document.getElementById('ideaInput').value = '';
                document.getElementById('outputArea').innerHTML = 
                    '<div class="output-item">' +
                    '<div class="output-content">Your AI-optimized prompts will appear here...</div>' +
                    '</div>';
                
                // Remove analysis panel if it exists
                var analysisPanel = document.querySelector('.ai-analysis-panel');
                if (analysisPanel) {
                    analysisPanel.remove();
                }
                
                selectedModels = [];
                var modelCards = document.querySelectorAll('.model-card');
                for (var i = 0; i < modelCards.length; i++) {
                    modelCards[i].classList.remove('selected');
                }
                
                updateStatus('Cleared! Ready for new ideas');
                showToast('üîÑ All cleared!', 'success');
                addToHistory('Cleared all inputs');
                saveImmediately(); // Save the cleared state
            }
            
            // Toggle focus mode
            function toggleFocus() {
                document.body.classList.toggle('focus-mode');
                showToast('‚ö° Focus mode ' + 
                         (document.body.classList.contains('focus-mode') ? 'ON' : 'OFF'), 
                         'success');
            }
            
            // Update status
            function updateStatus(message) {
                document.getElementById('statusText').textContent = message;
            }
            
            // Show toast
            function showToast(message, type) {
                var toast = document.getElementById('toast');
                toast.textContent = message;
                toast.className = 'toast ' + (type || 'success');
                toast.classList.add('show');
                
                setTimeout(function() {
                    toast.classList.remove('show');
                }, 3000);
            }
            
            // Add to history
            function addToHistory(text) {
                var timeString = new Date().toLocaleTimeString();
                var historyItem = {
                    time: timeString,
                    text: text,
                    timestamp: Date.now()
                };
                
                // Add to memory array
                historyItems.unshift(historyItem);
                
                // Keep only last 10 items
                if (historyItems.length > 10) {
                    historyItems = historyItems.slice(0, 10);
                }
                
                // Update display
                var historyArea = document.getElementById('historyArea');
                var historyElement = document.createElement('div');
                historyElement.className = 'history-item';
                historyElement.innerHTML = 
                    '<div class="history-time">' + timeString + '</div>' +
                    '<div class="history-text">' + text + '</div>';
                
                // Insert after session start item
                var firstChild = historyArea.children[0];
                if (historyArea.children.length > 1) {
                    historyArea.insertBefore(historyElement, historyArea.children[1]);
                } else {
                    historyArea.appendChild(historyElement);
                }
                
                // Keep only last 10 items in display
                while (historyArea.children.length > 11) { // +1 for session start item
                    historyArea.removeChild(historyArea.lastChild);
                }
                
                triggerAutoSave();
            }
            
            // Start the app
            if (document.readyState === 'loading') {
                document.addEventListener('DOMContentLoaded', init);
            } else {
                init();
            }
        })();
    </script>
</body>
</html>