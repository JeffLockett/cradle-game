<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HexMind AI Distillery - Smart AI Project Manager</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #6366f1;
            --secondary: #8b5cf6;
            --accent: #ec4899;
            --dark: #1e293b;
            --light: #f8fafc;
            --success: #10b981;
            --warning: #f59e0b;
            --error: #ef4444;
            --gradient: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: var(--dark);
            color: var(--light);
            line-height: 1.6;
            overflow-x: hidden;
        }

        /* Animations */
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        @keyframes slideIn {
            from { transform: translateX(-100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        /* Help Button */
        .help-button {
            position: absolute;
            top: 2rem;
            right: 2rem;
            background: rgba(255,255,255,0.2);
            border: 2px solid rgba(255,255,255,0.3);
            color: white;
            padding: 0.5rem 1.5rem;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1rem;
            z-index: 10;
        }

        .help-button:hover {
            background: rgba(255,255,255,0.3);
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(0,0,0,0.3);
        }

        /* README Modal */
        .readme-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            z-index: 1000;
            overflow-y: auto;
            animation: fadeIn 0.3s ease;
        }

        .readme-modal.active {
            display: block;
        }

        .readme-content {
            background: var(--dark);
            max-width: 900px;
            margin: 2rem auto;
            padding: 3rem;
            border-radius: 12px;
            border: 1px solid rgba(255,255,255,0.1);
            position: relative;
            animation: slideIn 0.3s ease;
        }

        .readme-close {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: rgba(255,255,255,0.1);
            border: none;
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1.5rem;
            transition: all 0.3s ease;
        }

        .readme-close:hover {
            background: rgba(255,255,255,0.2);
            transform: rotate(90deg);
        }

        .readme-content h2 {
            color: var(--primary);
            margin-top: 2rem;
            margin-bottom: 1rem;
        }

        .readme-content h3 {
            color: var(--secondary);
            margin-top: 1.5rem;
            margin-bottom: 0.5rem;
        }

        .readme-content code {
            background: rgba(255,255,255,0.1);
            padding: 0.2rem 0.5rem;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
        }

        .readme-content pre {
            background: rgba(0,0,0,0.5);
            padding: 1rem;
            border-radius: 8px;
            overflow-x: auto;
            margin: 1rem 0;
        }

        .readme-content ul {
            margin-left: 2rem;
            margin-bottom: 1rem;
        }

        .readme-content li {
            margin-bottom: 0.5rem;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        /* Header */
        .header {
            background: var(--gradient);
            padding: 2rem;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
            animation: pulse 4s ease-in-out infinite;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
            position: relative;
            z-index: 1;
        }

        .header p {
            font-size: 1.1rem;
            opacity: 0.9;
            position: relative;
            z-index: 1;
        }

        /* Container */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }

        /* Progress Steps */
        .progress-container {
            display: flex;
            justify-content: center;
            margin-bottom: 3rem;
            flex-wrap: wrap;
        }

        .step {
            background: rgba(255,255,255,0.1);
            border-radius: 50%;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 1rem;
            position: relative;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .step.active {
            background: var(--primary);
            transform: scale(1.1);
            box-shadow: 0 0 20px rgba(99, 102, 241, 0.5);
        }

        .step.completed {
            background: var(--success);
        }

        .step-label {
            position: absolute;
            bottom: -25px;
            font-size: 0.8rem;
            white-space: nowrap;
        }

        /* Sections */
        .section {
            display: none;
            animation: slideIn 0.5s ease-out;
        }

        .section.active {
            display: block;
        }

        /* Cards */
        .card {
            background: rgba(255,255,255,0.05);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 12px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            transition: all 0.3s ease;
        }

        .card:hover {
            background: rgba(255,255,255,0.08);
            border-color: var(--primary);
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }

        /* AI Selection */
        .ai-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .ai-option {
            position: relative;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .ai-option input[type="checkbox"] {
            position: absolute;
            opacity: 0;
        }

        .ai-option label {
            display: block;
            background: rgba(255,255,255,0.05);
            border: 2px solid rgba(255,255,255,0.1);
            border-radius: 8px;
            padding: 1rem;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .ai-option input[type="checkbox"]:checked + label {
            background: rgba(99, 102, 241, 0.2);
            border-color: var(--primary);
            box-shadow: 0 0 15px rgba(99, 102, 241, 0.3);
        }

        .ai-icon {
            font-size: 2rem;
            margin-bottom: 0.5rem;
        }

        /* Depth Selection */
        .depth-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .depth-option {
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .depth-option.selected {
            transform: scale(1.05);
        }

        .depth-option.selected .card {
            background: rgba(99, 102, 241, 0.2);
            border-color: var(--primary);
            box-shadow: 0 0 20px rgba(99, 102, 241, 0.4);
        }

        /* Facet Selection */
        .facet-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
        }

        .facet-checkbox {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .facet-checkbox input[type="checkbox"] {
            width: 20px;
            height: 20px;
            cursor: pointer;
        }

        /* Input Section */
        .input-container {
            margin-bottom: 2rem;
        }

        .input-container textarea {
            width: 100%;
            min-height: 150px;
            background: rgba(255,255,255,0.05);
            border: 1px solid rgba(255,255,255,0.2);
            border-radius: 8px;
            padding: 1rem;
            color: var(--light);
            font-size: 1rem;
            resize: vertical;
            transition: all 0.3s ease;
        }

        .input-container textarea:focus {
            outline: none;
            border-color: var(--primary);
            background: rgba(255,255,255,0.08);
        }

        /* Prompts Display */
        .prompts-container {
            display: grid;
            gap: 1.5rem;
        }

        .prompt-card {
            background: rgba(255,255,255,0.05);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 12px;
            padding: 1.5rem;
            position: relative;
            overflow: hidden;
        }

        .prompt-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 4px;
            height: 100%;
            background: var(--gradient);
        }

        .prompt-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .prompt-ai {
            font-size: 1.2rem;
            font-weight: bold;
            color: var(--primary);
        }

        .prompt-facets {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
        }

        .facet-tag {
            background: rgba(99, 102, 241, 0.2);
            padding: 0.2rem 0.6rem;
            border-radius: 12px;
            font-size: 0.8rem;
        }

        .prompt-content {
            background: rgba(0,0,0,0.3);
            padding: 1rem;
            border-radius: 8px;
            margin-bottom: 1rem;
            font-family: 'Courier New', monospace;
            white-space: pre-wrap;
            word-wrap: break-word;
        }

        .response-input {
            width: 100%;
            min-height: 100px;
            background: rgba(255,255,255,0.05);
            border: 1px solid rgba(255,255,255,0.2);
            border-radius: 8px;
            padding: 0.5rem;
            color: var(--light);
            resize: vertical;
        }

        /* Buttons */
        .button {
            background: var(--gradient);
            color: white;
            border: none;
            padding: 0.75rem 2rem;
            border-radius: 8px;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .button:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(99, 102, 241, 0.3);
        }

        .button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .button-secondary {
            background: transparent;
            border: 2px solid var(--primary);
            color: var(--primary);
        }

        .button-secondary:hover {
            background: var(--primary);
            color: white;
        }

        .button-group {
            display: flex;
            gap: 1rem;
            justify-content: center;
            margin-top: 2rem;
        }

        /* Copy Button */
        .copy-button {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: rgba(255,255,255,0.1);
            border: 1px solid rgba(255,255,255,0.2);
            color: var(--light);
            padding: 0.5rem 1rem;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }

        .copy-button:hover {
            background: rgba(255,255,255,0.2);
        }

        .copy-button.copied {
            background: var(--success);
            color: white;
        }

        /* Final Report */
        .report-container {
            background: rgba(255,255,255,0.05);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 12px;
            padding: 2rem;
            margin-top: 2rem;
        }

        .report-content {
            white-space: pre-wrap;
            line-height: 1.8;
        }

        /* Loading Animation */
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255,255,255,0.1);
            border-radius: 50%;
            border-top-color: var(--primary);
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Responsive */
        @media (max-width: 768px) {
            .header h1 {
                font-size: 2rem;
            }
            
            .progress-container {
                gap: 0.5rem;
            }
            
            .step {
                width: 40px;
                height: 40px;
                margin: 0 0.5rem;
            }
            
            .depth-grid {
                grid-template-columns: 1fr;
            }
        }

        /* Tooltips */
        .tooltip {
            position: relative;
            cursor: help;
        }

        .tooltip::after {
            content: attr(data-tooltip);
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0,0,0,0.9);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 6px;
            font-size: 0.8rem;
            white-space: nowrap;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
        }

        .tooltip:hover::after {
            opacity: 1;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>üß† HexMind AI Distillery</h1>
        <p>Transform any idea into a comprehensive project plan using multiple AI perspectives</p>
        <button class="help-button" onclick="toggleReadme()">üìñ How to Use</button>
    </div>

    <div class="container">
        <!-- Progress Steps -->
        <div class="progress-container">
        <div class="progress-container">
            <div class="step active" onclick="goToStep(1)">
                <span>1</span>
                <span class="step-label">Select AIs</span>
            </div>
            <div class="step" onclick="goToStep(2)">
                <span>2</span>
                <span class="step-label">Choose Depth</span>
            </div>
            <div class="step" onclick="goToStep(3)">
                <span>3</span>
                <span class="step-label">Input Idea</span>
            </div>
            <div class="step" onclick="goToStep(4)">
                <span>4</span>
                <span class="step-label">Get Prompts</span>
            </div>
            <div class="step" onclick="goToStep(5)">
                <span>5</span>
                <span class="step-label">Final Report</span>
            </div>
        </div>

        <!-- Step 1: AI Selection -->
        <div id="step1" class="section active">
            <h2>Step 1: Select Your Available AIs</h2>
            <p style="margin-bottom: 1.5rem;">Choose which AI services you have access to. The system will automatically distribute research facets across your selections.</p>
            
            <div class="ai-grid">
                <div class="ai-option">
                    <input type="checkbox" id="claude" value="Claude" checked>
                    <label for="claude">
                        <div class="ai-icon">üß†</div>
                        <div>Claude</div>
                        <small>Anthropic</small>
                    </label>
                </div>
                
                <div class="ai-option">
                    <input type="checkbox" id="grok" value="Grok" checked>
                    <label for="grok">
                        <div class="ai-icon">‚ö°</div>
                        <div>Grok</div>
                        <small>X/Twitter</small>
                    </label>
                </div>
                
                <div class="ai-option">
                    <input type="checkbox" id="gemini" value="Gemini" checked>
                    <label for="gemini">
                        <div class="ai-icon">üé®</div>
                        <div>Gemini</div>
                        <small>Google</small>
                    </label>
                </div>
                
                <div class="ai-option">
                    <input type="checkbox" id="perplexity" value="Perplexity" checked>
                    <label for="perplexity">
                        <div class="ai-icon">üîç</div>
                        <div>Perplexity</div>
                        <small>Research AI</small>
                    </label>
                </div>
                
                <div class="ai-option">
                    <input type="checkbox" id="copilot" value="Copilot" checked>
                    <label for="copilot">
                        <div class="ai-icon">üíª</div>
                        <div>Copilot</div>
                        <small>Microsoft</small>
                    </label>
                </div>
                
                <div class="ai-option">
                    <input type="checkbox" id="supergrok" value="SuperGrok" checked>
                    <label for="supergrok">
                        <div class="ai-icon">üõ°Ô∏è</div>
                        <div>SuperGrok</div>
                        <small>X/Twitter</small>
                    </label>
                </div>
                
                <div class="ai-option">
                    <input type="checkbox" id="chatgpt" value="ChatGPT">
                    <label for="chatgpt">
                        <div class="ai-icon">üí¨</div>
                        <div>ChatGPT</div>
                        <small>OpenAI</small>
                    </label>
                </div>
                
                <div class="ai-option">
                    <input type="checkbox" id="llama" value="Llama">
                    <label for="llama">
                        <div class="ai-icon">ü¶ô</div>
                        <div>Llama</div>
                        <small>Meta</small>
                    </label>
                </div>
            </div>
            
            <div class="card" style="background: rgba(239, 68, 68, 0.1); border-color: rgba(239, 68, 68, 0.3);">
                <p><strong>‚ö†Ô∏è Note:</strong> You must select at least one AI to continue.</p>
            </div>
            
            <div class="button-group">
                <button class="button" onclick="nextStep()">Continue ‚Üí</button>
            </div>
        </div>

        <!-- Step 2: Depth Selection -->
        <div id="step2" class="section">
            <h2>Step 2: Choose Analysis Depth</h2>
            <p style="margin-bottom: 1.5rem;">Select how comprehensive you want the analysis to be.</p>
            
            <div class="depth-grid">
                <div class="depth-option" onclick="selectDepth('quick')">
                    <div class="card">
                        <h3>üîß Quick Technical</h3>
                        <p style="margin: 1rem 0;">3 Core Facets</p>
                        <ul style="list-style: none; padding: 0;">
                            <li>‚úì Architecture</li>
                            <li>‚úì Implementation</li>
                            <li>‚úì Security</li>
                        </ul>
                        <p style="margin-top: 1rem; font-size: 0.9rem; opacity: 0.8;">Perfect for rapid prototypes and technical proof-of-concepts</p>
                    </div>
                </div>
                
                <div class="depth-option" onclick="selectDepth('mvp')">
                    <div class="card">
                        <h3>üöÄ MVP Analysis</h3>
                        <p style="margin: 1rem 0;">4 Essential Facets</p>
                        <ul style="list-style: none; padding: 0;">
                            <li>‚úì Architecture</li>
                            <li>‚úì UX Design</li>
                            <li>‚úì Implementation</li>
                            <li>‚úì Research</li>
                        </ul>
                        <p style="margin-top: 1rem; font-size: 0.9rem; opacity: 0.8;">Ideal for minimum viable products and early-stage projects</p>
                    </div>
                </div>
                
                <div class="depth-option" onclick="selectDepth('business')">
                    <div class="card">
                        <h3>üìà Business Launch</h3>
                        <p style="margin: 1rem 0;">6 Comprehensive Facets</p>
                        <ul style="list-style: none; padding: 0;">
                            <li>‚úì All Technical Facets</li>
                            <li>‚úì Financial Analysis</li>
                            <li>‚úì Business Strategy</li>
                        </ul>
                        <p style="margin-top: 1rem; font-size: 0.9rem; opacity: 0.8;">Complete analysis for market-ready products</p>
                    </div>
                </div>
                
                <div class="depth-option" onclick="selectDepth('enterprise')">
                    <div class="card">
                        <h3>üè¢ Full Think Tank</h3>
                        <p style="margin: 1rem 0;">9 Expert Facets</p>
                        <ul style="list-style: none; padding: 0;">
                            <li>‚úì All Business Facets</li>
                            <li>‚úì Legal/Compliance</li>
                            <li>‚úì Complete Strategy</li>
                        </ul>
                        <p style="margin-top: 1rem; font-size: 0.9rem; opacity: 0.8;">Enterprise-grade analysis for complex ventures</p>
                    </div>
                </div>
            </div>
            
            <!-- Custom Selection -->
            <div class="card" style="margin-top: 2rem;">
                <h3>üé® Custom Selection</h3>
                <p style="margin-bottom: 1rem;">Or choose exactly which facets you need:</p>
                <div class="facet-grid">
                    <div class="facet-checkbox">
                        <input type="checkbox" id="facet-architecture" checked>
                        <label for="facet-architecture">üß† Architecture</label>
                    </div>
                    <div class="facet-checkbox">
                        <input type="checkbox" id="facet-implementation" checked>
                        <label for="facet-implementation">üíª Implementation</label>
                    </div>
                    <div class="facet-checkbox">
                        <input type="checkbox" id="facet-performance">
                        <label for="facet-performance">‚ö° Performance</label>
                    </div>
                    <div class="facet-checkbox">
                        <input type="checkbox" id="facet-ux">
                        <label for="facet-ux">üé® UX Design</label>
                    </div>
                    <div class="facet-checkbox">
                        <input type="checkbox" id="facet-research">
                        <label for="facet-research">üîç Research</label>
                    </div>
                    <div class="facet-checkbox">
                        <input type="checkbox" id="facet-security" checked>
                        <label for="facet-security">üõ°Ô∏è Security</label>
                    </div>
                    <div class="facet-checkbox">
                        <input type="checkbox" id="facet-financial">
                        <label for="facet-financial">üí∞ Financial</label>
                    </div>
                    <div class="facet-checkbox">
                        <input type="checkbox" id="facet-strategy">
                        <label for="facet-strategy">üìà Strategy</label>
                    </div>
                    <div class="facet-checkbox">
                        <input type="checkbox" id="facet-legal">
                        <label for="facet-legal">‚öñÔ∏è Legal</label>
                    </div>
                </div>
            </div>
            
            <div class="button-group">
                <button class="button button-secondary" onclick="previousStep()">‚Üê Back</button>
                <button class="button" onclick="nextStep()">Continue ‚Üí</button>
            </div>
        </div>

        <!-- Step 3: Input Idea -->
        <div id="step3" class="section">
            <h2>Step 3: Describe Your Project Idea</h2>
            <p style="margin-bottom: 1.5rem;">Be as detailed or as brief as you'd like. The AI will ask clarifying questions if needed.</p>
            
            <div class="input-container">
                <textarea id="projectIdea" placeholder="Example: Build a secure customer portal for financial advisors that handles real-time portfolio tracking, client communications, and regulatory compliance reporting..."></textarea>
            </div>
            
            <div class="card" style="background: rgba(16, 185, 129, 0.1); border-color: rgba(16, 185, 129, 0.3);">
                <h4>üí° Example Ideas:</h4>
                <ul style="margin-top: 0.5rem;">
                    <li>"Mobile app for tracking construction site safety with photo documentation"</li>
                    <li>"API gateway for microservices handling 10,000+ requests/second"</li>
                    <li>"E-learning platform with AI-powered personalized curriculum"</li>
                    <li>"Blockchain-based supply chain verification system"</li>
                </ul>
            </div>
            
            <div class="button-group">
                <button class="button button-secondary" onclick="previousStep()">‚Üê Back</button>
                <button class="button" onclick="generatePrompts()">Generate Prompts ‚Üí</button>
            </div>
        </div>

        <!-- Step 4: Generated Prompts -->
        <div id="step4" class="section">
            <h2>Step 4: Copy Prompts to Each AI</h2>
            <p style="margin-bottom: 1.5rem;">Copy each prompt to the corresponding AI service, then paste their responses back here.</p>
            
            <div id="promptsContainer" class="prompts-container">
                <!-- Prompts will be dynamically generated here -->
            </div>
            
            <div class="button-group">
                <button class="button button-secondary" onclick="previousStep()">‚Üê Back</button>
                <button class="button" onclick="generateReport()">Generate Final Report ‚Üí</button>
            </div>
        </div>

        <!-- Step 5: Final Report -->
        <div id="step5" class="section">
            <h2>Step 5: Unified Project Report</h2>
            <p style="margin-bottom: 1.5rem;">Here's your comprehensive project analysis combining all AI perspectives.</p>
            
            <div class="report-container">
                <button class="copy-button" onclick="copyReport()">Copy Report</button>
                <div id="reportContent" class="report-content">
                    <!-- Report will be generated here -->
                </div>
            </div>
            
            <div class="button-group">
                <button class="button button-secondary" onclick="startOver()">Start New Project</button>
                <button class="button" onclick="window.print()">Print Report</button>
            </div>
        </div>
    </div>

    <script>
        // State management
        let state = {
            currentStep: 1,
            selectedAIs: [],
            selectedDepth: '',
            selectedFacets: [],
            projectIdea: '',
            prompts: {},
            responses: {},
            finalReport: ''
        };

        // Facet definitions
        const facets = {
            architecture: {
                name: 'Architecture',
                icon: 'üß†',
                description: 'System design, components, data flow, scalability patterns',
                promptTemplate: 'As a system architect, analyze this project idea and provide: 1) High-level system architecture, 2) Key components and their interactions, 3) Data flow and storage strategy, 4) Scalability considerations, 5) Technology stack recommendations. Project: {idea}'
            },
            implementation: {
                name: 'Implementation',
                icon: 'üíª',
                description: 'Code structure, development approach, key algorithms',
                promptTemplate: 'As a senior developer, provide an implementation plan including: 1) Code structure and organization, 2) Key algorithms and data structures, 3) Development phases and milestones, 4) Testing strategy, 5) Code examples for critical components. Project: {idea}'
            },
            performance: {
                name: 'Performance',
                icon: '‚ö°',
                description: 'Optimization strategies, bottleneck analysis, scaling',
                promptTemplate: 'As a performance engineer, analyze: 1) Potential performance bottlenecks, 2) Optimization strategies, 3) Caching and CDN strategy, 4) Load balancing approach, 5) Performance metrics and monitoring. Project: {idea}'
            },
            ux: {
                name: 'UX Design',
                icon: 'üé®',
                description: 'User experience, interface design, user flows',
                promptTemplate: 'As a UX designer, provide: 1) User personas and journey maps, 2) Key UI/UX principles for this project, 3) Wireframe suggestions for main screens, 4) Accessibility considerations, 5) User feedback and iteration process. Project: {idea}'
            },
            research: {
                name: 'Research',
                icon: 'üîç',
                description: 'Market analysis, competitor research, validation',
                promptTemplate: 'As a research analyst, provide: 1) Market analysis and size, 2) Competitor analysis, 3) Target audience validation, 4) Industry trends and opportunities, 5) Unique value proposition. Project: {idea}'
            },
            security: {
                name: 'Security',
                icon: 'üõ°Ô∏è',
                description: 'Threat modeling, security measures, compliance',
                promptTemplate: 'As a security expert, analyze: 1) Threat model and attack vectors, 2) Security architecture and controls, 3) Authentication and authorization strategy, 4) Data protection and encryption, 5) Compliance requirements. Project: {idea}'
            },
            financial: {
                name: 'Financial',
                icon: 'üí∞',
                description: 'Cost analysis, revenue model, ROI projections',
                promptTemplate: 'As a financial analyst, provide: 1) Development cost estimates, 2) Operational cost projections, 3) Revenue model and pricing strategy, 4) ROI timeline, 5) Funding requirements and sources. Project: {idea}'
            },
            strategy: {
                name: 'Strategy',
                icon: 'üìà',
                description: 'Business strategy, go-to-market, competitive positioning',
                promptTemplate: 'As a business strategist, analyze: 1) Business model canvas, 2) Go-to-market strategy, 3) Competitive positioning, 4) Growth strategy and milestones, 5) Risk analysis and mitigation. Project: {idea}'
            },
            legal: {
                name: 'Legal',
                icon: '‚öñÔ∏è',
                description: 'Regulatory compliance, IP considerations, legal risks',
                promptTemplate: 'As a legal advisor, review: 1) Regulatory compliance requirements, 2) Intellectual property considerations, 3) Terms of service and privacy policy needs, 4) Liability and risk assessment, 5) Required licenses and permits. Project: {idea}'
            }
        };

        // Depth presets
        const depthPresets = {
            quick: ['architecture', 'implementation', 'security'],
            mvp: ['architecture', 'ux', 'implementation', 'research'],
            business: ['architecture', 'implementation', 'performance', 'ux', 'research', 'security'],
            enterprise: Object.keys(facets)
        };

        // Navigation functions
        function goToStep(step) {
            if (step <= state.currentStep || validateCurrentStep()) {
                state.currentStep = step;
                updateUI();
            }
        }

        function nextStep() {
            if (validateCurrentStep()) {
                state.currentStep++;
                updateUI();
            }
        }

        function previousStep() {
            state.currentStep--;
            updateUI();
        }

        function updateUI() {
            // Update progress steps
            document.querySelectorAll('.step').forEach((step, index) => {
                step.classList.remove('active', 'completed');
                if (index + 1 === state.currentStep) {
                    step.classList.add('active');
                } else if (index + 1 < state.currentStep) {
                    step.classList.add('completed');
                }
            });

            // Update sections
            document.querySelectorAll('.section').forEach(section => {
                section.classList.remove('active');
            });
            document.getElementById(`step${state.currentStep}`).classList.add('active');
        }

        // Validation
        function validateCurrentStep() {
            switch (state.currentStep) {
                case 1:
                    state.selectedAIs = Array.from(document.querySelectorAll('.ai-option input:checked')).map(input => input.value);
                    if (state.selectedAIs.length === 0) {
                        alert('Please select at least one AI service.');
                        return false;
                    }
                    return true;
                case 2:
                    state.selectedFacets = Array.from(document.querySelectorAll('.facet-checkbox input:checked')).map(input => input.id.replace('facet-', ''));
                    if (state.selectedFacets.length === 0) {
                        alert('Please select at least one analysis facet.');
                        return false;
                    }
                    return true;
                case 3:
                    state.projectIdea = document.getElementById('projectIdea').value.trim();
                    if (!state.projectIdea) {
                        alert('Please describe your project idea.');
                        return false;
                    }
                    return true;
                default:
                    return true;
            }
        }

        // Depth selection
        function selectDepth(depthType) {
            state.selectedDepth = depthType;
            
            // Update UI
            document.querySelectorAll('.depth-option').forEach(option => {
                option.classList.remove('selected');
            });
            event.currentTarget.classList.add('selected');

            // Update facet checkboxes
            const selectedFacets = depthPresets[depthType];
            document.querySelectorAll('.facet-checkbox input').forEach(checkbox => {
                const facetId = checkbox.id.replace('facet-', '');
                checkbox.checked = selectedFacets.includes(facetId);
            });
        }

        // Generate prompts
        function generatePrompts() {
            if (!validateCurrentStep()) return;
            
            // Clear previous prompts
            state.prompts = {};
            state.responses = {};
            
            // Distribute facets across available AIs
            const facetsPerAI = Math.ceil(state.selectedFacets.length / state.selectedAIs.length);
            let facetIndex = 0;
            
            state.selectedAIs.forEach((ai, aiIndex) => {
                const aiFacets = [];
                for (let i = 0; i < facetsPerAI && facetIndex < state.selectedFacets.length; i++) {
                    aiFacets.push(state.selectedFacets[facetIndex++]);
                }
                
                if (aiFacets.length > 0) {
                    // Combine prompts for multiple facets
                    const combinedPrompt = aiFacets.map(facetId => {
                        const facet = facets[facetId];
                        return `\n\n[${facet.icon} ${facet.name} Analysis]\n${facet.promptTemplate.replace('{idea}', state.projectIdea)}`;
                    }).join('');
                    
                    state.prompts[ai] = {
                        facets: aiFacets,
                        prompt: `You are analyzing the following project from multiple expert perspectives. Please provide comprehensive analysis for each section:${combinedPrompt}`
                    };
                }
            });
            
            // Display prompts
            displayPrompts();
            nextStep();
        }

        function displayPrompts() {
            const container = document.getElementById('promptsContainer');
            container.innerHTML = '';
            
            Object.entries(state.prompts).forEach(([ai, data]) => {
                const promptCard = document.createElement('div');
                promptCard.className = 'prompt-card';
                promptCard.innerHTML = `
                    <div class="prompt-header">
                        <div class="prompt-ai">${ai}</div>
                        <div class="prompt-facets">
                            ${data.facets.map(f => `<span class="facet-tag">${facets[f].icon} ${facets[f].name}</span>`).join('')}
                        </div>
                    </div>
                    <div class="prompt-content">${data.prompt}</div>
                    <button class="copy-button" onclick="copyPrompt('${ai}')">Copy Prompt</button>
                    <textarea class="response-input" id="response-${ai}" placeholder="Paste ${ai}'s response here..."></textarea>
                `;
                container.appendChild(promptCard);
            });
        }

        // Copy functions
        function copyPrompt(ai) {
            const prompt = state.prompts[ai].prompt;
            navigator.clipboard.writeText(prompt).then(() => {
                const button = event.target;
                button.textContent = 'Copied!';
                button.classList.add('copied');
                setTimeout(() => {
                    button.textContent = 'Copy Prompt';
                    button.classList.remove('copied');
                }, 2000);
            });
        }

        function copyReport() {
            navigator.clipboard.writeText(state.finalReport).then(() => {
                const button = event.target;
                button.textContent = 'Copied!';
                button.classList.add('copied');
                setTimeout(() => {
                    button.textContent = 'Copy Report';
                    button.classList.remove('copied');
                }, 2000);
            });
        }

        // Generate final report
        function generateReport() {
            // Collect all responses
            Object.keys(state.prompts).forEach(ai => {
                const responseElement = document.getElementById(`response-${ai}`);
                if (responseElement) {
                    state.responses[ai] = responseElement.value.trim();
                }
            });
            
            // Check if we have at least some responses
            const hasResponses = Object.values(state.responses).some(r => r.length > 0);
            if (!hasResponses) {
                alert('Please paste at least one AI response before generating the report.');
                return;
            }
            
            // Generate comprehensive report
            generateComprehensiveReport();
            nextStep();
        }

        function generateComprehensiveReport() {
            const reportSections = [];
            
            // Header
            reportSections.push(`# üß† HexMind AI Distillery Report`);
            reportSections.push(`\n## Project Overview`);
            reportSections.push(state.projectIdea);
            reportSections.push(`\nGenerated: ${new Date().toLocaleString()}`);
            reportSections.push(`Analysis Depth: ${state.selectedFacets.length} facets across ${state.selectedAIs.length} AI services`);
            
            // Executive Summary
            reportSections.push(`\n## Executive Summary`);
            reportSections.push(`This comprehensive analysis combines insights from ${state.selectedAIs.join(', ')} across ${state.selectedFacets.length} critical facets of your project.`);
            
            // Facet-based sections
            state.selectedFacets.forEach(facetId => {
                const facet = facets[facetId];
                reportSections.push(`\n## ${facet.icon} ${facet.name}`);
                
                // Find which AI covered this facet
                Object.entries(state.prompts).forEach(([ai, data]) => {
                    if (data.facets.includes(facetId) && state.responses[ai]) {
                        // Extract relevant section from AI response
                        const response = state.responses[ai];
                        const facetSection = extractFacetSection(response, facet.name);
                        if (facetSection) {
                            reportSections.push(`\n### Insights from ${ai}:`);
                            reportSections.push(facetSection);
                        }
                    }
                });
            });
            
            // Action Items
            reportSections.push(`\n## üéØ Consolidated Action Items`);
            reportSections.push(generateActionItems());
            
            // Next Steps
            reportSections.push(`\n## üìã Recommended Next Steps`);
            reportSections.push(generateNextSteps());
            
            // Risk Summary
            if (state.selectedFacets.includes('security') || state.selectedFacets.includes('legal')) {
                reportSections.push(`\n## ‚ö†Ô∏è Risk Summary`);
                reportSections.push(generateRiskSummary());
            }
            
            state.finalReport = reportSections.join('\n');
            document.getElementById('reportContent').textContent = state.finalReport;
        }

        function extractFacetSection(response, facetName) {
            // Simple extraction logic - can be enhanced
            const lines = response.split('\n');
            const startIndex = lines.findIndex(line => 
                line.toLowerCase().includes(facetName.toLowerCase()) ||
                line.includes(facets[Object.keys(facets).find(k => facets[k].name === facetName)].icon)
            );
            
            if (startIndex === -1) return response; // Return full response if section not found
            
            // Find next section or end
            let endIndex = lines.length;
            for (let i = startIndex + 1; i < lines.length; i++) {
                if (lines[i].match(/^#+\s|^\[.*\]\s*$/)) {
                    endIndex = i;
                    break;
                }
            }
            
            return lines.slice(startIndex, endIndex).join('\n');
        }

        function generateActionItems() {
            const actionItems = [];
            
            if (state.selectedFacets.includes('architecture')) {
                actionItems.push('1. Finalize system architecture and technology stack');
                actionItems.push('2. Set up development environment and CI/CD pipeline');
            }
            if (state.selectedFacets.includes('ux')) {
                actionItems.push('3. Create detailed wireframes and user flow diagrams');
                actionItems.push('4. Conduct user research and usability testing');
            }
            if (state.selectedFacets.includes('security')) {
                actionItems.push('5. Implement security framework and authentication system');
                actionItems.push('6. Set up monitoring and incident response procedures');
            }
            if (state.selectedFacets.includes('financial')) {
                actionItems.push('7. Secure initial funding or budget allocation');
                actionItems.push('8. Set up financial tracking and reporting systems');
            }
            
            return actionItems.join('\n');
        }

        function generateNextSteps() {
            const steps = [
                '1. **Week 1-2**: Architecture finalization and team assembly',
                '2. **Week 3-4**: Initial prototype development and testing setup',
                '3. **Week 5-8**: Core feature implementation and iteration',
                '4. **Week 9-10**: Security audit and performance optimization',
                '5. **Week 11-12**: User testing and launch preparation'
            ];
            return steps.join('\n');
        }

        function generateRiskSummary() {
            const risks = [
                '‚Ä¢ **Technical Risks**: Scalability challenges, integration complexity',
                '‚Ä¢ **Security Risks**: Data breach potential, compliance violations',
                '‚Ä¢ **Business Risks**: Market competition, funding shortfalls',
                '‚Ä¢ **Operational Risks**: Team scaling, knowledge transfer'
            ];
            return risks.join('\n');
        }

        // Start over
        function startOver() {
            state = {
                currentStep: 1,
                selectedAIs: [],
                selectedDepth: '',
                selectedFacets: [],
                projectIdea: '',
                prompts: {},
                responses: {},
                finalReport: ''
            };
            
            // Reset form
            document.querySelectorAll('input[type="checkbox"]').forEach(cb => cb.checked = false);
            document.getElementById('projectIdea').value = '';
            
            // Go to step 1
            goToStep(1);
        }

        // Toggle README modal
        function toggleReadme() {
            const modal = document.getElementById('readmeModal');
            if (modal) {
                modal.classList.toggle('active');
            }
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            updateUI();
            
            // Add keyboard shortcuts
            document.addEventListener('keydown', (e) => {
                const modal = document.getElementById('readmeModal');
                if (e.key === 'Escape' && modal && modal.classList.contains('active')) {
                    toggleReadme();
                }
                if (e.key === 'Enter' && e.ctrlKey) {
                    const currentStepElement = document.querySelector('.section.active');
                    if (currentStepElement && currentStepElement.querySelector('.button:not(.button-secondary)')) {
                        currentStepElement.querySelector('.button:not(.button-secondary)').click();
                    }
                }
            });
            
            // Close modal when clicking outside
            const readmeModal = document.getElementById('readmeModal');
            if (readmeModal) {
                readmeModal.addEventListener('click', (e) => {
                    if (e.target === e.currentTarget) {
                        toggleReadme();
                    }
                });
            }
        });
    </script>
</body>
</html>
